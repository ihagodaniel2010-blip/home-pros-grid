{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/Index.tsx"],"sourcesContent":["import Layout from \"@/components/Layout\";\r\nimport HeroSection from \"@/components/HeroSection\";\r\nimport TopProjects from \"@/components/TopProjects\";\r\nimport ProjectsList from \"@/components/ProjectsList\";\r\nimport ArticlesSection from \"@/components/ArticlesSection\";\r\n\r\nconst Index = () => (\r\n  <Layout>\r\n    <HeroSection />\r\n    <TopProjects />\r\n    <ProjectsList />\r\n    <ArticlesSection />\r\n  </Layout>\r\n);\r\n\r\nexport default Index;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,QAAQ,kBACZ,8OAAC,uIAAM;;0BACL,8OAAC,4IAAW;;;;;0BACZ,8OAAC,4IAAW;;;;;0BACZ,8OAAC,6IAAY;;;;;0BACb,8OAAC,gJAAe;;;;;;;;;;;uCAIL"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/Services.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Link, useSearchParams } from \"react-router-dom\";\r\nimport { Search } from \"lucide-react\";\r\nimport Layout from \"@/components/Layout\";\r\nimport { allServices } from \"@/data/services\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst Services = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const [query, setQuery] = useState(searchParams.get(\"q\") || \"\");\r\n\r\n  const filtered = allServices.filter((s) =>\r\n    s.name.toLowerCase().includes(query.toLowerCase())\r\n  );\r\n\r\n  const grouped = {\r\n    top: filtered.filter((s) => s.category === \"top\"),\r\n    core: filtered.filter((s) => s.category === \"core\"),\r\n    extended: filtered.filter((s) => s.category === \"extended\"),\r\n  };\r\n\r\n  const renderGroup = (title: string, items: typeof filtered) =>\r\n    items.length > 0 ? (\r\n      <div className=\"mb-12\">\r\n        <h2 className=\"text-lg font-bold mb-5 tracking-tight\">{title}</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\r\n          {items.map((s, i) => {\r\n            const Icon = s.icon;\r\n            return (\r\n              <motion.div\r\n                key={s.slug}\r\n                initial={{ opacity: 0, y: 12 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.3, delay: i * 0.02 }}\r\n              >\r\n                <Link\r\n                  to={`/quote/${s.slug}`}\r\n                  className=\"flex items-center gap-3 p-4 bg-card rounded-2xl border border-border/60 premium-shadow hover:premium-shadow-lg hover:-translate-y-0.5 hover:border-primary/30 transition-all duration-200\"\r\n                >\r\n                  <Icon className=\"h-5 w-5 text-primary/70 shrink-0\" strokeWidth={1.5} />\r\n                  <span className=\"text-sm font-medium\">{s.name}</span>\r\n                </Link>\r\n              </motion.div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    ) : null;\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"max-w-6xl mx-auto px-6 py-12\">\r\n        <h1 className=\"text-4xl font-bold mb-8 tracking-tight\">All Services</h1>\r\n        <div className=\"relative mb-10 max-w-md\">\r\n          <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/60\" />\r\n          <input\r\n            className=\"w-full h-12 pl-11 pr-4 bg-card border border-border/60 rounded-2xl text-sm premium-shadow focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-300\"\r\n            placeholder=\"Search services...\"\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n          />\r\n        </div>\r\n        {renderGroup(\"Top Projects\", grouped.top)}\r\n        {renderGroup(\"Core Services\", grouped.core)}\r\n        {renderGroup(\"More Services\", grouped.extended)}\r\n        {filtered.length === 0 && (\r\n          <p className=\"text-muted-foreground text-center py-16\">No services found matching \"{query}\"</p>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Services;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,MAAM,WAAW;IACf,MAAM,CAAC,aAAa,GAAG,IAAA,0LAAe;IACtC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,aAAa,GAAG,CAAC,QAAQ;IAE5D,MAAM,WAAW,sIAAW,CAAC,MAAM,CAAC,CAAC,IACnC,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,MAAM,WAAW;IAGjD,MAAM,UAAU;QACd,KAAK,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;QAC3C,MAAM,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;QAC5C,UAAU,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;IAClD;IAEA,MAAM,cAAc,CAAC,OAAe,QAClC,MAAM,MAAM,GAAG,kBACb,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAyC;;;;;;8BACvD,8OAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,GAAG;wBACb,MAAM,OAAO,EAAE,IAAI;wBACnB,qBACE,8OAAC,oMAAM,CAAC,GAAG;4BAET,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAG;4BAC7B,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAC5B,YAAY;gCAAE,UAAU;gCAAK,OAAO,IAAI;4BAAK;sCAE7C,cAAA,8OAAC,+KAAI;gCACH,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE;gCACtB,WAAU;;kDAEV,8OAAC;wCAAK,WAAU;wCAAmC,aAAa;;;;;;kDAChE,8OAAC;wCAAK,WAAU;kDAAuB,EAAE,IAAI;;;;;;;;;;;;2BAV1C,EAAE,IAAI;;;;;oBAcjB;;;;;;;;;;;uDAGF;IAEN,qBACE,8OAAC,uIAAM;kBACL,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAyC;;;;;;8BACvD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,gNAAM;4BAAC,WAAU;;;;;;sCAClB,8OAAC;4BACC,WAAU;4BACV,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;gBAG3C,YAAY,gBAAgB,QAAQ,GAAG;gBACvC,YAAY,iBAAiB,QAAQ,IAAI;gBACzC,YAAY,iBAAiB,QAAQ,QAAQ;gBAC7C,SAAS,MAAM,KAAK,mBACnB,8OAAC;oBAAE,WAAU;;wBAA0C;wBAA6B;wBAAM;;;;;;;;;;;;;;;;;;AAKpG;uCAEe"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/Quote.tsx"],"sourcesContent":["import { useState, useMemo, useRef, useEffect } from \"react\";\r\nimport { useParams, useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { Check, MapPin, Home, Building2, ChevronRight, Star, Shield, ArrowLeft } from \"lucide-react\";\r\nimport Header from \"@/components/Header\";\r\nimport { getServiceBySlug, getSubServices, type SubServiceOption } from \"@/data/services\";\r\nimport { mockPros } from \"@/data/pros\";\r\nimport { saveLead } from \"@/lib/leads\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { toast } from \"sonner\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { Upload, X, Image as ImageIcon, Video as VideoIcon, Loader2 } from \"lucide-react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nconst sectionVariants = {\r\n  hidden: { opacity: 0, y: 24 },\r\n  visible: { opacity: 1, y: 0, transition: { duration: 0.5, ease: \"easeOut\" as const } },\r\n};\r\n\r\nconst Quote = () => {\r\n  const { serviceSlug } = useParams();\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const service = getServiceBySlug(serviceSlug || \"\");\r\n  const subServices = getSubServices(serviceSlug || \"\");\r\n  const bottomRef = useRef<HTMLDivElement>(null);\r\n\r\n  const [revealedSections, setRevealedSections] = useState(1);\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n  const [formData, setFormData] = useState({\r\n    zip: searchParams.get(\"zip\") || \"\",\r\n    selectedService: \"\",\r\n    subtype: \"\",\r\n    details: \"\",\r\n    locationType: \"\",\r\n    fullName: \"\",\r\n    address: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    selectedPros: mockPros.map((p) => p.id),\r\n    // Honeypot\r\n    websiteUrl: \"\",\r\n  });\r\n  const [selectedMedia, setSelectedMedia] = useState<{ file: File; preview: string; type: 'image' | 'video' }[]>([]);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const selectedSubService: SubServiceOption | undefined = useMemo(\r\n    () => subServices.find((s) => s.label === formData.selectedService),\r\n    [subServices, formData.selectedService]\r\n  );\r\n  const hasSubtypes = !!(selectedSubService?.subtypes && selectedSubService.subtypes.length > 0);\r\n\r\n  // Determine total sections and progress\r\n  const totalSections = hasSubtypes ? 9 : 8;\r\n  const progressPct = Math.min(Math.round(((revealedSections - 1) / (totalSections - 1)) * 100), 100);\r\n\r\n  const set = (key: string, value: string | string[]) =>\r\n    setFormData((p) => ({ ...p, [key]: value }));\r\n\r\n  const scrollToBottom = () => {\r\n    setTimeout(() => bottomRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"end\" }), 100);\r\n  };\r\n\r\n  const revealNext = (sectionIndex: number) => {\r\n    if (sectionIndex >= revealedSections) {\r\n      setRevealedSections(sectionIndex + 1);\r\n      scrollToBottom();\r\n    }\r\n  };\r\n\r\n  // Auto-reveal on valid zip\r\n  useEffect(() => {\r\n    if (/^\\d{5}$/.test(formData.zip) && revealedSections === 1) {\r\n      setErrors((e) => ({ ...e, zip: \"\" }));\r\n      revealNext(1);\r\n    }\r\n  }, [formData.zip]);\r\n\r\n  // Auto-reveal on service selection\r\n  useEffect(() => {\r\n    if (formData.selectedService && revealedSections <= 2) {\r\n      const sub = subServices.find((s) => s.label === formData.selectedService);\r\n      if (sub?.subtypes && sub.subtypes.length > 0) {\r\n        revealNext(2);\r\n      } else {\r\n        // Skip subtype, go to details\r\n        revealNext(2); // This will be details section (index adjusted)\r\n      }\r\n    }\r\n  }, [formData.selectedService]);\r\n\r\n  // Auto-reveal on subtype selection\r\n  useEffect(() => {\r\n    if (formData.subtype && hasSubtypes && revealedSections <= 3) {\r\n      revealNext(3);\r\n    }\r\n  }, [formData.subtype]);\r\n\r\n  // Auto-reveal on location type\r\n  useEffect(() => {\r\n    if (formData.locationType) {\r\n      const detailsSectionIdx = hasSubtypes ? 4 : 3;\r\n      if (revealedSections <= detailsSectionIdx + 1) {\r\n        revealNext(detailsSectionIdx + 1);\r\n      }\r\n    }\r\n  }, [formData.locationType]);\r\n\r\n  const validate = (): Record<string, string> => {\r\n    const e: Record<string, string> = {};\r\n    if (!/^\\d{5}$/.test(formData.zip)) e.zip = \"Enter a valid 5-digit zip code\";\r\n    if (!formData.selectedService) e.selectedService = \"Please select a service\";\r\n    if (hasSubtypes && !formData.subtype) e.subtype = \"Please select a subtype\";\r\n    if (!formData.locationType) e.locationType = \"Please select a location type\";\r\n    if (!formData.fullName.trim()) e.fullName = \"Name is required\";\r\n    if (!formData.address.trim()) e.address = \"Address is required\";\r\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) e.email = \"Enter a valid email\";\r\n    if (!/^[\\d\\s()+-]{7,}$/.test(formData.phone)) e.phone = \"Enter a valid phone number\";\r\n    return e;\r\n  };\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async () => {\r\n    // 1. Honeypot check\r\n    if (formData.websiteUrl) {\r\n      console.warn(\"Spam filter triggered: Honeypot filled.\");\r\n      toast.success(\"Request sent successfully!\"); // Lie to bots\r\n      navigate(\"/success\");\r\n      return;\r\n    }\r\n\r\n    const e = validate();\r\n    setErrors(e);\r\n    if (Object.keys(e).length > 0) {\r\n      toast.error(\"Please fill in all required fields correctly.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      // 2. Upload Media\r\n      const uploadedUrls: string[] = [];\r\n      if (selectedMedia.length > 0) {\r\n        setIsUploading(true);\r\n        for (const item of selectedMedia) {\r\n          let fileToUpload = item.file;\r\n\r\n          // Compress if image\r\n          if (item.type === 'image') {\r\n            const options = {\r\n              maxSizeMB: 1,\r\n              maxWidthOrHeight: 1920,\r\n              useWebWorker: true\r\n            };\r\n            try {\r\n              fileToUpload = await imageCompression(item.file, options);\r\n            } catch (err) {\r\n              console.error(\"Compression error:\", err);\r\n            }\r\n          }\r\n\r\n          const fileExt = item.file.name.split('.').pop();\r\n          const fileName = `${Math.random().toString(36).substring(2)}-${Date.now()}.${fileExt}`;\r\n          const orgId = process.env.NEXT_PUBLIC_DEFAULT_ORG_ID;\r\n          const filePath = `${orgId}/${fileName}`;\r\n\r\n          const { error: uploadError } = await supabase!.storage\r\n            .from('organization-private')\r\n            .upload(filePath, fileToUpload);\r\n\r\n          if (uploadError) throw uploadError;\r\n\r\n          const { data: { publicUrl } } = supabase!.storage.from('organization-private').getPublicUrl(filePath);\r\n          uploadedUrls.push(publicUrl);\r\n        }\r\n      }\r\n\r\n      const selectedProNames = mockPros.filter((p) => formData.selectedPros.includes(p.id)).map((p) => p.name);\r\n      await saveLead({\r\n        serviceSlug: serviceSlug || \"\",\r\n        zip: formData.zip,\r\n        selectedServiceOption: formData.selectedService,\r\n        subtype: formData.subtype || undefined,\r\n        details: formData.details || undefined,\r\n        locationType: formData.locationType,\r\n        fullName: formData.fullName,\r\n        address: formData.address,\r\n        email: formData.email,\r\n        phone: formData.phone,\r\n        selectedPros: selectedProNames,\r\n        media_urls: uploadedUrls\r\n      });\r\n      toast.success(\"Request sent successfully!\");\r\n      navigate(\"/success\");\r\n    } catch (error) {\r\n      console.error(\"Submission error:\", error);\r\n      toast.error(error instanceof Error ? error.message : \"Failed to send request. Please try again.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleMediaChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(e.target.files || []);\r\n    const newMedia = files.map(file => {\r\n      const type = file.type.startsWith('image/') ? 'image' : 'video';\r\n\r\n      // Video limit check (50MB)\r\n      if (type === 'video' && file.size > 50 * 1024 * 1024) {\r\n        toast.error(`Video ${file.name} is too large. Max limit is 50MB.`);\r\n        return null;\r\n      }\r\n\r\n      return {\r\n        file,\r\n        preview: URL.createObjectURL(file),\r\n        type: type as 'image' | 'video'\r\n      };\r\n    }).filter(Boolean) as { file: File; preview: string; type: 'image' | 'video' }[];\r\n\r\n    setSelectedMedia(prev => [...prev, ...newMedia]);\r\n  };\r\n\r\n  const removeMedia = (index: number) => {\r\n    setSelectedMedia(prev => {\r\n      const updated = [...prev];\r\n      URL.revokeObjectURL(updated[index].preview);\r\n      updated.splice(index, 1);\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const togglePro = (id: string) => {\r\n    const current = formData.selectedPros;\r\n    set(\"selectedPros\", current.includes(id) ? current.filter((p) => p !== id) : [...current, id]);\r\n  };\r\n\r\n  const ValidIcon = ({ valid }: { valid: boolean }) => (\r\n    <AnimatePresence>\r\n      {valid && (\r\n        <motion.div\r\n          initial={{ scale: 0 }}\r\n          animate={{ scale: 1 }}\r\n          className=\"absolute right-4 top-1/2 -translate-y-1/2\"\r\n        >\r\n          <div className=\"w-5 h-5 rounded-full bg-green-500/10 flex items-center justify-center\">\r\n            <Check className=\"h-3 w-3 text-green-600\" />\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n\r\n  if (!service) {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div className=\"flex items-center justify-center min-h-[60vh]\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">Service Not Found</h1>\r\n            <button onClick={() => navigate(\"/services\")} className=\"px-6 py-3 bg-primary text-primary-foreground rounded-full text-sm font-medium\">\r\n              Browse All Services\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  // Calculate section indices dynamically\r\n  const sectionIdx = {\r\n    zip: 0,\r\n    service: 1,\r\n    subtype: hasSubtypes ? 2 : -1,\r\n    details: hasSubtypes ? 3 : 2,\r\n    media: hasSubtypes ? 4 : 3,\r\n    location: hasSubtypes ? 5 : 4,\r\n    contact: hasSubtypes ? 6 : 5,\r\n    review: hasSubtypes ? 7 : 6,\r\n  };\r\n\r\n  // Helper for \"proceed\" buttons on optional sections\r\n  const handleDetailsContinue = () => {\r\n    const nextIdx = sectionIdx.media;\r\n    revealNext(nextIdx + 1);\r\n  };\r\n\r\n  const handleMediaContinue = () => {\r\n    const nextIdx = sectionIdx.location;\r\n    revealNext(nextIdx + 1);\r\n  };\r\n\r\n  const handleContactContinue = () => {\r\n    revealNext(sectionIdx.review + 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col\" style={{ background: \"linear-gradient(160deg, hsl(209, 75%, 17%) 0%, hsl(209, 80%, 8%) 100%)\" }}>\r\n      <Header />\r\n\r\n      {/* Progress */}\r\n      <div className=\"sticky top-[72px] z-40 bg-background/5 backdrop-blur-xl border-b border-white/10\">\r\n        <div className=\"max-w-3xl mx-auto px-6 py-4\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <button onClick={() => navigate(-1)} className=\"flex items-center gap-2 text-xs text-white/50 hover:text-white/80 transition-colors\">\r\n              <ArrowLeft className=\"h-3.5 w-3.5\" /> Back\r\n            </button>\r\n            <span className=\"text-sm font-bold text-white\">{progressPct}%</span>\r\n          </div>\r\n          <div className=\"h-1.5 bg-white/10 rounded-full overflow-hidden\">\r\n            <motion.div\r\n              className=\"h-full bg-gradient-to-r from-white/60 to-white rounded-full\"\r\n              initial={{ width: \"0%\" }}\r\n              animate={{ width: `${progressPct}%` }}\r\n              transition={{ duration: 0.6, ease: \"easeOut\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Form */}\r\n      <div className=\"flex-1 flex justify-center px-4 sm:px-6 py-10\">\r\n        <div className=\"w-full max-w-[820px] space-y-6\">\r\n          {/* Honeypot - Hidden from humans */}\r\n          <div className=\"hidden\" aria-hidden=\"true\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"websiteUrl\"\r\n              tabIndex={-1}\r\n              autoComplete=\"off\"\r\n              value={formData.websiteUrl}\r\n              onChange={(e) => set(\"websiteUrl\", e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          {/* SECTION 1 – Zip */}\r\n          <motion.section variants={sectionVariants} initial=\"hidden\" animate=\"visible\" className=\"glass-card-strong p-8 md:p-10\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n              <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center\">\r\n                <MapPin className=\"h-4 w-4 text-primary\" />\r\n              </div>\r\n              <h2 className=\"text-xl font-bold tracking-tight\">Where is your project located?</h2>\r\n            </div>\r\n            <div className=\"relative max-w-xs\">\r\n              <input\r\n                className=\"w-full h-14 px-5 text-lg tracking-wider text-center bg-secondary/50 border border-border rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300\"\r\n                placeholder=\"Zip Code\"\r\n                value={formData.zip}\r\n                onChange={(e) => set(\"zip\", e.target.value.replace(/\\D/g, \"\").slice(0, 5))}\r\n                maxLength={5}\r\n              />\r\n              <ValidIcon valid={/^\\d{5}$/.test(formData.zip)} />\r\n            </div>\r\n            {errors.zip && <p className=\"text-destructive text-xs mt-2\">{errors.zip}</p>}\r\n          </motion.section>\r\n\r\n          {/* SECTION 2 – Service Type */}\r\n          <AnimatePresence>\r\n            {revealedSections > 1 && (\r\n              <motion.section variants={sectionVariants} initial=\"hidden\" animate=\"visible\" className=\"glass-card-strong p-8 md:p-10\">\r\n                <h2 className=\"text-xl font-bold tracking-tight mb-6\">What type of service do you need?</h2>\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n                  {subServices.map((opt) => (\r\n                    <button\r\n                      key={opt.label}\r\n                      onClick={() => { set(\"selectedService\", opt.label); set(\"subtype\", \"\"); }}\r\n                      className={`group relative text-left p-4 rounded-2xl border-2 transition-all duration-200 ${formData.selectedService === opt.label\r\n                        ? \"border-primary bg-primary/5 glow-border\"\r\n                        : \"border-border/60 hover:border-primary/30 hover:bg-card\"\r\n                        }`}\r\n                    >\r\n                      <span className=\"text-sm font-medium\">{opt.label}</span>\r\n                      {formData.selectedService === opt.label && (\r\n                        <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} className=\"absolute right-3 top-1/2 -translate-y-1/2\">\r\n                          <Check className=\"h-4 w-4 text-primary\" />\r\n                        </motion.div>\r\n                      )}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {errors.selectedService && <p className=\"text-destructive text-xs mt-2\">{errors.selectedService}</p>}\r\n              </motion.section>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* SECTION 3 – Subtype (Conditional) */}\r\n          <AnimatePresence>\r\n            {hasSubtypes && revealedSections > 2 && (\r\n              <motion.section variants={sectionVariants} initial=\"hidden\" animate=\"visible\" className=\"glass-card-strong p-8 md:p-10\">\r\n                <h2 className=\"text-xl font-bold tracking-tight mb-6\">What type of {formData.selectedService}?</h2>\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n                  {selectedSubService?.subtypes?.map((st) => (\r\n                    <button\r\n                      key={st}\r\n                      onClick={() => set(\"subtype\", st)}\r\n                      className={`group relative text-left p-4 rounded-2xl border-2 transition-all duration-200 ${formData.subtype === st\r\n                        ? \"border-primary bg-primary/5 glow-border\"\r\n                        : \"border-border/60 hover:border-primary/30 hover:bg-card\"\r\n                        }`}\r\n                    >\r\n                      <span className=\"text-sm font-medium\">{st}</span>\r\n                      {formData.subtype === st && (\r\n                        <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} className=\"absolute right-3 top-1/2 -translate-y-1/2\">\r\n                          <Check className=\"h-4 w-4 text-primary\" />\r\n                        </motion.div>\r\n                      )}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {errors.subtype && <p className=\"text-destructive text-xs mt-2\">{errors.subtype}</p>}\r\n              </motion.section>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* SECTION 4 – Details */}\r\n          <AnimatePresence>\r\n            {revealedSections > sectionIdx.details && (\r\n              <motion.section variants={sectionVariants} initial=\"hidden\" animate=\"visible\" className=\"glass-card-strong p-8 md:p-10\">\r\n                <h2 className=\"text-xl font-bold tracking-tight mb-2\">Add details for more exact quotes</h2>\r\n                <p className=\"text-sm text-muted-foreground mb-6\">Describe your project so pros can give you a better estimate.</p>\r\n                <div className=\"relative\">\r\n                  <textarea\r\n                    className=\"w-full min-h-[120px] p-5 bg-secondary/50 border border-border rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-300 resize-none\"\r\n                    placeholder=\"Describe your project (optional)\"\r\n                    value={formData.details}\r\n                    onChange={(e) => set(\"details\", e.target.value)}\r\n                    maxLength={1000}\r\n                  />\r\n                  <span className=\"absolute bottom-3 right-4 text-[10px] text-muted-foreground\">\r\n                    {formData.details.length}/1000\r\n                  </span>\r\n                </div>\r\n                {revealedSections <= sectionIdx.media && (\r\n                  <button\r\n                    onClick={handleDetailsContinue}\r\n                    className=\"mt-4 px-6 py-3 bg-primary text-primary-foreground text-sm font-medium rounded-xl hover:bg-primary/90 transition-all duration-200 inline-flex items-center gap-2\"\r\n                  >\r\n                    Continue <ChevronRight className=\"h-4 w-4\" />\r\n                  </button>\r\n                )}\r\n              </motion.section>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* SECTION 4.5 – Media Upload */}\r\n          <AnimatePresence>\r\n            {revealedSections > sectionIdx.media && (\r\n              <motion.section variants={sectionVariants} initial=\"hidden\" animate=\"visible\" className=\"glass-card-strong p-8 md:p-10\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <div>\r\n                    <h2 className=\"text-xl font-bold tracking-tight mb-2\">Add Photos or Videos</h2>\r\n                    <p className=\"text-sm text-muted-foreground\">Show pros what needs to be done for a more accurate estimate.</p>\r\n                  </div>\r\n                  <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n                    <ImageIcon className=\"h-5 w-5 text-primary\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6\">\r\n                  {selectedMedia.map((item, idx) => (\r\n                    <div key={idx} className=\"relative aspect-square rounded-2xl overflow-hidden border border-white/10 group\">\r\n                      {item.type === 'image' ? (\r\n                        <img src={item.preview} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                      ) : (\r\n                        <div className=\"w-full h-full bg-secondary/50 flex items-center justify-center\">\r\n                          <VideoIcon className=\"h-8 w-8 text-white/40\" />\r\n                        </div>\r\n                      )}\r\n                      <button\r\n                        onClick={() => removeMedia(idx)}\r\n                        className=\"absolute top-2 right-2 p-1.5 bg-black/60 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                      >\r\n                        <X className=\"h-3 w-3\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n\r\n                  {selectedMedia.length < 10 && (\r\n                    <label className=\"aspect-square rounded-2xl border-2 border-dashed border-white/10 hover:border-primary/40 hover:bg-primary/5 transition-all cursor-pointer flex flex-col items-center justify-center gap-2\">\r\n                      <input\r\n                        type=\"file\"\r\n                        multiple\r\n                        accept=\"image/*,video/*\"\r\n                        className=\"hidden\"\r\n                        onChange={handleMediaChange}\r\n                        disabled={isUploading}\r\n                      />\r\n                      {isUploading ? (\r\n                        <Loader2 className=\"h-6 w-6 text-primary animate-spin\" />\r\n                      ) : (\r\n                        <>\r\n                          <Upload className=\"h-6 w-6 text-white/40\" />\r\n                          <span className=\"text-[10px] font-medium text-white/40 uppercase tracking-wider\">Add Media</span>\r\n                        </>\r\n                      )}\r\n                    </label>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 text-[11px] text-muted-foreground mb-6\">\r\n                  <Shield className=\"h-3.5 w-3.5\" />\r\n                  Your files are secure and only shared with selected professionals. Max 50MB per video.\r\n                </div>\r\n\r\n                {revealedSections <= sectionIdx.location && (\r\n                  <button\r\n                    onClick={handleMediaContinue}\r\n                    className=\"px-6 py-3 bg-primary text-primary-foreground text-sm font-medium rounded-xl hover:bg-primary/90 transition-all duration-200 inline-flex items-center gap-2\"\r\n                  >\r\n                    Continue <ChevronRight className=\"h-4 w-4\" />\r\n                  </button>\r\n                )}\r\n              </motion.section>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* SECTION 5 – Location Type */}\r\n          <AnimatePresence>\r\n            {revealedSections > sectionIdx.location && (\r\n              <motion.section variants={sectionVariants} initial=\"hidden\" animate=\"visible\" className=\"glass-card-strong p-8 md:p-10\">\r\n                <h2 className=\"text-xl font-bold tracking-tight mb-6\">What kind of location is this?</h2>\r\n                <div className=\"flex gap-4\">\r\n                  {[\r\n                    { value: \"Home / Residence\", icon: Home, label: \"Home\" },\r\n                    { value: \"Business\", icon: Building2, label: \"Business\" },\r\n                  ].map((opt) => (\r\n                    <button\r\n                      key={opt.value}\r\n                      onClick={() => set(\"locationType\", opt.value)}\r\n                      className={`flex-1 flex flex-col items-center gap-3 p-6 rounded-2xl border-2 transition-all duration-200 ${formData.locationType === opt.value\r\n                        ? \"border-primary bg-primary/5 glow-border\"\r\n                        : \"border-border/60 hover:border-primary/30\"\r\n                        }`}\r\n                    >\r\n                      <opt.icon className={`h-6 w-6 ${formData.locationType === opt.value ? \"text-primary\" : \"text-muted-foreground\"} transition-colors`} strokeWidth={1.5} />\r\n                      <span className=\"text-sm font-medium\">{opt.label}</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {errors.locationType && <p className=\"text-destructive text-xs mt-2\">{errors.locationType}</p>}\r\n              </motion.section>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* SECTION 6 – Contact Info */}\r\n          <AnimatePresence>\r\n            {revealedSections > sectionIdx.contact && (\r\n              <motion.section variants={sectionVariants} initial=\"hidden\" animate=\"visible\" className=\"glass-card-strong p-8 md:p-10\">\r\n                <h2 className=\"text-xl font-bold tracking-tight mb-2\">Contact Information</h2>\r\n                <p className=\"text-sm text-muted-foreground mb-6\">Get your free quotes now — no obligation.</p>\r\n                <div className=\"space-y-4\">\r\n                  {[\r\n                    { key: \"fullName\", label: \"Full Name\", type: \"text\", valid: formData.fullName.trim().length > 0 },\r\n                    { key: \"address\", label: \"Address\", type: \"text\", valid: formData.address.trim().length > 0 },\r\n                    { key: \"email\", label: \"Email\", type: \"email\", valid: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email) },\r\n                    { key: \"phone\", label: \"Phone\", type: \"tel\", valid: /^[\\d\\s()+-]{7,}$/.test(formData.phone) },\r\n                  ].map((field) => (\r\n                    <div key={field.key} className=\"floating-input\">\r\n                      <input\r\n                        type={field.type}\r\n                        placeholder=\" \"\r\n                        value={(formData as any)[field.key]}\r\n                        onChange={(e) => set(field.key, e.target.value)}\r\n                        className=\"!rounded-2xl !bg-secondary/50\"\r\n                      />\r\n                      <label>{field.label}</label>\r\n                      <ValidIcon valid={field.valid} />\r\n                      {errors[field.key] && <p className=\"text-destructive text-xs mt-1 pl-1\">{errors[field.key]}</p>}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                {revealedSections <= sectionIdx.review && (\r\n                  <button\r\n                    onClick={handleContactContinue}\r\n                    className=\"mt-6 px-6 py-3 bg-primary text-primary-foreground text-sm font-medium rounded-xl hover:bg-primary/90 transition-all duration-200 inline-flex items-center gap-2\"\r\n                  >\r\n                    Continue <ChevronRight className=\"h-4 w-4\" />\r\n                  </button>\r\n                )}\r\n              </motion.section>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* SECTION 7 – Review & Submit */}\r\n          <AnimatePresence>\r\n            {revealedSections > sectionIdx.review && (\r\n              <motion.section variants={sectionVariants} initial=\"hidden\" animate=\"visible\" className=\"glass-card-strong p-8 md:p-10\">\r\n                <h2 className=\"text-xl font-bold tracking-tight mb-6\">Review & Get Your Quotes</h2>\r\n\r\n                {/* Summary */}\r\n                <div className=\"bg-secondary/40 rounded-2xl p-5 mb-6 space-y-2.5\">\r\n                  {[\r\n                    { label: \"Service\", value: formData.selectedService },\r\n                    formData.subtype ? { label: \"Subtype\", value: formData.subtype } : null,\r\n                    { label: \"Zip Code\", value: formData.zip },\r\n                    { label: \"Location\", value: formData.locationType },\r\n                    { label: \"Name\", value: formData.fullName },\r\n                    { label: \"Email\", value: formData.email },\r\n                    { label: \"Phone\", value: formData.phone },\r\n                  ].filter(Boolean).map((item) => (\r\n                    <div key={item!.label} className=\"flex justify-between text-sm\">\r\n                      <span className=\"text-muted-foreground\">{item!.label}</span>\r\n                      <span className=\"font-medium\">{item!.value || \"—\"}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Pros selection */}\r\n                <p className=\"text-sm font-medium mb-4\">Select professionals to receive your estimate:</p>\r\n                <div className=\"space-y-3 mb-6\">\r\n                  {mockPros.map((pro) => (\r\n                    <label\r\n                      key={pro.id}\r\n                      className={`flex items-center gap-4 p-4 rounded-2xl border-2 cursor-pointer transition-all duration-200 card-hover ${formData.selectedPros.includes(pro.id)\r\n                        ? \"border-primary bg-primary/5 glow-border\"\r\n                        : \"border-border/60 hover:border-primary/30\"\r\n                        }`}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={formData.selectedPros.includes(pro.id)}\r\n                        onChange={() => togglePro(pro.id)}\r\n                        className=\"mt-0.5 w-5 h-5 rounded border-border accent-primary cursor-pointer\"\r\n                      />\r\n                      {/* Avatar */}\r\n                      <div className=\"flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center text-white font-bold text-sm\">\r\n                        {pro.initials}\r\n                      </div>\r\n                      {/* Info */}\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center gap-2 mb-0.5\">\r\n                          <span className=\"font-semibold text-sm\">{pro.name}</span>\r\n                        </div>\r\n                        <p className=\"text-xs text-muted-foreground mb-1.5\">{pro.location}, {pro.state}</p>\r\n                        <div className=\"flex items-center gap-3 flex-wrap\">\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <div className=\"flex gap-0.5\">\r\n                              {[...Array(5)].map((_, i) => (\r\n                                <Star\r\n                                  key={i}\r\n                                  className={`h-3 w-3 ${i < Math.round(pro.rating) ? \"fill-amber-400 text-amber-400\" : \"fill-gray-300 text-gray-300\"}`}\r\n                                />\r\n                              ))}\r\n                            </div>\r\n                            <span className=\"text-xs font-medium text-foreground\">{pro.rating}</span>\r\n                            <span className=\"text-xs text-muted-foreground\">({pro.reviews})</span>\r\n                          </div>\r\n                          <div className=\"flex gap-1.5\">\r\n                            {pro.badges.map((b) => (\r\n                              <span key={b} className=\"inline-flex items-center text-[10px] px-2 py-0.5 bg-blue-50 text-blue-700 rounded-full font-medium\">\r\n                                {b}\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n\r\n                <p className=\"text-[11px] text-muted-foreground mb-6 leading-relaxed\">\r\n                  By clicking \"Get My Free Quotes,\" you agree to our Terms of Service and Privacy Policy.\r\n                  You consent to receive calls, texts and emails from service professionals at the number\r\n                  and email provided.\r\n                </p>\r\n\r\n                <button\r\n                  onClick={handleSubmit}\r\n                  disabled={isSubmitting}\r\n                  className=\"w-full py-4 bg-primary text-primary-foreground text-base font-semibold rounded-2xl hover:bg-primary/90 transition-all duration-200 hover:shadow-xl active:scale-[0.99] disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {isSubmitting ? \"Sending Request...\" : \"Get My Free Quotes\"}\r\n                </button>\r\n              </motion.section>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          <div ref={bottomRef} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Quote;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1719, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/Success.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ArrowRight, CheckCircle2 } from \"lucide-react\";\r\nimport Header from \"@/components/Header\";\r\nimport TopProjects from \"@/components/TopProjects\";\r\nimport ProjectsList from \"@/components/ProjectsList\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst Success = () => {\r\n  React.useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col\">\r\n      <Header />\r\n\r\n      {/* Hero */}\r\n      <section className=\"relative py-24 px-6 text-center overflow-hidden navy-gradient-hero\">\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_hsl(209,60%,25%)_0%,_transparent_60%)] opacity-40\" />\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 24 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.7 }}\r\n          className=\"relative max-w-2xl mx-auto\"\r\n        >\r\n          <motion.div\r\n            initial={{ scale: 0 }}\r\n            animate={{ scale: 1 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n            className=\"w-16 h-16 rounded-full bg-white/10 flex items-center justify-center mx-auto mb-6\"\r\n          >\r\n            <CheckCircle2 className=\"h-8 w-8 text-white\" />\r\n          </motion.div>\r\n          <h1 className=\"text-4xl md:text-5xl font-bold text-white mb-5 tracking-tight\">\r\n            Your project request has been sent!\r\n          </h1>\r\n          <p className=\"text-white/60 mb-10 leading-relaxed max-w-lg mx-auto\">\r\n            We're on it! We're connecting you to the best pros in your area.\r\n            You'll receive quotes shortly via email and phone.\r\n          </p>\r\n          <Link\r\n            to=\"/login\"\r\n            className=\"inline-flex items-center gap-2 px-8 py-4 bg-white text-primary font-semibold text-sm rounded-full hover:bg-white/90 transition-all duration-200 hover:shadow-lg active:scale-[0.98]\"\r\n          >\r\n            Log in to see your projects <ArrowRight className=\"h-4 w-4\" />\r\n          </Link>\r\n        </motion.div>\r\n      </section>\r\n\r\n      {/* More projects */}\r\n      <section className=\"pt-16 pb-4 px-6 text-center\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 16 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true }}\r\n          transition={{ duration: 0.5 }}\r\n        >\r\n          <h2 className=\"text-3xl font-bold mb-2 tracking-tight\">Need another project?</h2>\r\n          <p className=\"text-muted-foreground\">We're here to help with your entire to-do list.</p>\r\n        </motion.div>\r\n      </section>\r\n      <TopProjects />\r\n      <ProjectsList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Success;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,MAAM,UAAU;IACd,gNAAK,CAAC,SAAS,CAAC;QACd,OAAO,QAAQ,CAAC,GAAG;IACrB,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,uIAAM;;;;;0BAGP,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC,oMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,UAAU;wBAAI;wBAC5B,WAAU;;0CAEV,8OAAC,oMAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,OAAO;gCAAE;gCACpB,SAAS;oCAAE,OAAO;gCAAE;gCACpB,YAAY;oCAAE,UAAU;oCAAK,OAAO;gCAAI;gCACxC,WAAU;0CAEV,cAAA,8OAAC,qOAAY;oCAAC,WAAU;;;;;;;;;;;0CAE1B,8OAAC;gCAAG,WAAU;0CAAgE;;;;;;0CAG9E,8OAAC;gCAAE,WAAU;0CAAuD;;;;;;0CAIpE,8OAAC,+KAAI;gCACH,IAAG;gCACH,WAAU;;oCACX;kDAC6B,8OAAC,gOAAU;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAMxD,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC,oMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,aAAa;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAChC,UAAU;wBAAE,MAAM;oBAAK;oBACvB,YAAY;wBAAE,UAAU;oBAAI;;sCAE5B,8OAAC;4BAAG,WAAU;sCAAyC;;;;;;sCACvD,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAGzC,8OAAC,4IAAW;;;;;0BACZ,8OAAC,6IAAY;;;;;;;;;;;AAGnB;uCAEe"}},
    {"offset": {"line": 1913, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/Login.tsx"],"sourcesContent":["import { useNavigate } from \"@/lib/navigation-compat\";\r\nimport Layout from \"@/components/Layout\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { useUser } from \"@/context/UserContext\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { CheckCircle2 } from \"lucide-react\";\r\nimport { isSupabaseConfigured } from \"@/lib/supabase\";\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const { user, login, signInWithGoogle } = useUser();\r\n  const { toast } = useToast();\r\n\r\n  // If already logged in, redirect to experiences\r\n  if (user) {\r\n    navigate(\"/experiences\");\r\n  }\r\n\r\n  const handleGoogleLogin = async () => {\r\n    if (isSupabaseConfigured) {\r\n      try {\r\n        await signInWithGoogle();\r\n        return;\r\n      } catch (error) {\r\n        toast({\r\n          title: \"Google Login Error\",\r\n          description: error instanceof Error ? error.message : \"Failed to start Google sign-in.\",\r\n          duration: 4000,\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    toast({\r\n      title: \"Supabase not configured\",\r\n      description: \"Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY to enable real Google login.\",\r\n      duration: 3000,\r\n    });\r\n\r\n    // For now, simulate Google login in development\r\n    if (process.env.NODE_ENV === \"development\") {\r\n      await login({\r\n        id: `google-${Date.now()}`,\r\n        name: \"Test User\",\r\n        email: \"test@example.com\",\r\n        provider: \"google\",\r\n        avatarUrl: undefined,\r\n      });\r\n      navigate(\"/experiences\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"min-h-[80vh] flex items-center justify-center px-4\">\r\n        <Card className=\"w-full max-w-md border-gray-200 shadow-lg\">\r\n          <CardHeader className=\"space-y-3 text-center pb-8 pt-8\">\r\n            <CardTitle className=\"text-3xl font-bold tracking-tight\">\r\n              Sign in to Barrigudo\r\n            </CardTitle>\r\n            <CardDescription className=\"text-base text-gray-600\">\r\n              Use your Google account to leave a review and track your requests.\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-6 pb-8\">\r\n            <Button\r\n              onClick={handleGoogleLogin}\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n              className=\"w-full h-14 text-base font-medium border-2 hover:border-gray-400 hover:bg-gray-50 transition-all\"\r\n            >\r\n              <svg className=\"w-6 h-6 mr-3\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  fill=\"#4285F4\"\r\n                  d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n                />\r\n                <path\r\n                  fill=\"#34A853\"\r\n                  d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n                />\r\n                <path\r\n                  fill=\"#FBBC05\"\r\n                  d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n                />\r\n                <path\r\n                  fill=\"#EA4335\"\r\n                  d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n                />\r\n              </svg>\r\n              Continue with Google\r\n            </Button>\r\n\r\n            <div className=\"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200\">\r\n              <CheckCircle2 className=\"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0\" />\r\n              <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n                We only use your profile photo and name for your review. Your email is kept private.\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAEA,MAAM,QAAQ;IACZ,MAAM,WAAW,IAAA,kJAAW;IAC5B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,gBAAgB,EAAE,GAAG,IAAA,yIAAO;IACjD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAQ;IAE1B,gDAAgD;IAChD,IAAI,MAAM;QACR,SAAS;IACX;IAEA,MAAM,oBAAoB;QACxB,IAAI,8IAAoB,EAAE;YACxB,IAAI;gBACF,MAAM;gBACN;YACF,EAAE,OAAO,OAAO;gBACd,MAAM;oBACJ,OAAO;oBACP,aAAa,iBAAiB,QAAQ,MAAM,OAAO,GAAG;oBACtD,UAAU;gBACZ;gBACA;YACF;QACF;QAEA,MAAM;YACJ,OAAO;YACP,aAAa;YACb,UAAU;QACZ;QAEA,gDAAgD;QAChD,wCAA4C;YAC1C,MAAM,MAAM;gBACV,IAAI,CAAC,OAAO,EAAE,KAAK,GAAG,IAAI;gBAC1B,MAAM;gBACN,OAAO;gBACP,UAAU;gBACV,WAAW;YACb;YACA,SAAS;QACX;IACF;IAEA,qBACE,8OAAC,uIAAM;kBACL,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,wIAAI;gBAAC,WAAU;;kCACd,8OAAC,8IAAU;wBAAC,WAAU;;0CACpB,8OAAC,6IAAS;gCAAC,WAAU;0CAAoC;;;;;;0CAGzD,8OAAC,mJAAe;gCAAC,WAAU;0CAA0B;;;;;;;;;;;;kCAIvD,8OAAC,+IAAW;wBAAC,WAAU;;0CACrB,8OAAC,4IAAM;gCACL,SAAS;gCACT,SAAQ;gCACR,MAAK;gCACL,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;wCAAe,SAAQ;;0DACpC,8OAAC;gDACC,MAAK;gDACL,GAAE;;;;;;0DAEJ,8OAAC;gDACC,MAAK;gDACL,GAAE;;;;;;0DAEJ,8OAAC;gDACC,MAAK;gDACL,GAAE;;;;;;0DAEJ,8OAAC;gDACC,MAAK;gDACL,GAAE;;;;;;;;;;;;oCAEA;;;;;;;0CAIR,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,qOAAY;wCAAC,WAAU;;;;;;kDACxB,8OAAC;wCAAE,WAAU;kDAAwC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnE;uCAEe"}},
    {"offset": {"line": 2115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/Join.tsx"],"sourcesContent":["import Layout from \"@/components/Layout\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\nconst Join = () => (\r\n  <Layout>\r\n    <div className=\"max-w-md mx-auto px-4 py-20\">\r\n      <h1 className=\"text-2xl font-bold mb-2 text-center\">Join As a Pro</h1>\r\n      <p className=\"text-muted-foreground text-center mb-6 text-sm\">Grow your business with Barrigudo</p>\r\n      <div className=\"space-y-4\">\r\n        <Input placeholder=\"Business Name\" />\r\n        <Input placeholder=\"Email\" type=\"email\" />\r\n        <Input placeholder=\"Phone\" type=\"tel\" />\r\n        <Button className=\"w-full\">Get Started</Button>\r\n      </div>\r\n      <p className=\"text-xs text-muted-foreground text-center mt-4\">This is a placeholder page.</p>\r\n    </div>\r\n  </Layout>\r\n);\r\n\r\nexport default Join;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,OAAO,kBACX,8OAAC,uIAAM;kBACL,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAsC;;;;;;8BACpD,8OAAC;oBAAE,WAAU;8BAAiD;;;;;;8BAC9D,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,0IAAK;4BAAC,aAAY;;;;;;sCACnB,8OAAC,0IAAK;4BAAC,aAAY;4BAAQ,MAAK;;;;;;sCAChC,8OAAC,0IAAK;4BAAC,aAAY;4BAAQ,MAAK;;;;;;sCAChC,8OAAC,4IAAM;4BAAC,WAAU;sCAAS;;;;;;;;;;;;8BAE7B,8OAAC;oBAAE,WAAU;8BAAiD;;;;;;;;;;;;;;;;;uCAKrD"}},
    {"offset": {"line": 2211, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/About.tsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ArrowRight, Award, Zap, Clock } from \"lucide-react\";\r\nimport Layout from \"@/components/Layout\";\r\n\r\nconst About = () => {\r\n  const values = [\r\n    {\r\n      icon: Award,\r\n      title: \"Quality Craftsmanship\",\r\n      description: \"We connect you with vetted, professional contractors who take pride in their work and deliver exceptional results.\"\r\n    },\r\n    {\r\n      icon: Zap,\r\n      title: \"Transparent Pricing\",\r\n      description: \"No hidden fees, no surprises. Get accurate quotes from multiple pros and choose the best option for your budget.\"\r\n    },\r\n    {\r\n      icon: Clock,\r\n      title: \"On-Time Delivery\",\r\n      description: \"Your time matters. Our pre-screened contractors respect deadlines and communicate every step of the way.\"\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Layout>\r\n      {/* Hero Section */}\r\n      <section className=\"py-20 px-6 bg-gradient-to-b from-slate-50 to-white\">\r\n        <div className=\"max-w-4xl mx-auto text-center\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n          >\r\n            <h1 className=\"text-4xl md:text-5xl font-bold text-slate-900 mb-6\">\r\n              About Barrigudo\r\n            </h1>\r\n            <p className=\"text-lg text-slate-600 max-w-2xl mx-auto\">\r\n              Connecting homeowners with trusted local home service professionals to build, protect, and improve their homes.\r\n            </p>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Values Section */}\r\n      <section className=\"py-16 px-6 bg-white\">\r\n        <div className=\"max-w-5xl mx-auto\">\r\n          <div className=\"grid md:grid-cols-3 gap-8\">\r\n            {values.map((value, i) => {\r\n              const Icon = value.icon;\r\n              return (\r\n                <motion.div\r\n                  key={value.title}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  viewport={{ once: true }}\r\n                  transition={{ duration: 0.5, delay: i * 0.1 }}\r\n                  className=\"text-center\"\r\n                >\r\n                  <div className=\"flex justify-center mb-4\">\r\n                    <div className=\"p-3 bg-primary/10 rounded-lg\">\r\n                      <Icon className=\"h-6 w-6 text-primary\" />\r\n                    </div>\r\n                  </div>\r\n                  <h3 className=\"text-xl font-semibold text-slate-900 mb-2\">\r\n                    {value.title}\r\n                  </h3>\r\n                  <p className=\"text-slate-600\">\r\n                    {value.description}\r\n                  </p>\r\n                </motion.div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Mission Section */}\r\n      <section className=\"py-16 px-6 bg-slate-50\">\r\n        <div className=\"max-w-4xl mx-auto text-center\">\r\n          <img\r\n            className=\"mx-auto w-28 mb-6\"\r\n            src=\"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UZP1Emv43ZoL.png\"\r\n            alt=\"Barrigudo trust badge\"\r\n          />\r\n          <p className=\"text-slate-700 leading-8 text-lg italic max-w-3xl mx-auto\">\r\n            At Barrigudo, our mission is to connect homeowners with qualified local and national home service professionals and products they can trust.\r\n            We help people build, protect, and invest in their homes while growing the businesses that serve them, every single day.\r\n          </p>\r\n        </div>\r\n      </section>\r\n\r\n      {/* CTA Section */}\r\n      <section className=\"py-20 px-6 bg-white\">\r\n        <div className=\"max-w-3xl mx-auto text-center\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 16 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            transition={{ duration: 0.6 }}\r\n          >\r\n            <h3 className=\"text-3xl md:text-4xl font-bold text-slate-900 mb-4\">\r\n              Our Work Speaks for Itself\r\n            </h3>\r\n            <p className=\"text-base text-slate-700 mb-8 leading-relaxed\">\r\n              Explore our portfolio of completed projects to see the quality and craftsmanship we deliver across all service categories.\r\n            </p>\r\n            <Link\r\n              to=\"/cost-guide\"\r\n              className=\"inline-flex items-center gap-2 px-9 py-3 bg-primary text-white font-semibold rounded-full hover:bg-primary/90 transition-all duration-250 hover:shadow-lg active:scale-[0.98]\"\r\n            >\r\n              View Portfolio <ArrowRight className=\"h-4 w-4\" />\r\n            </Link>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default About;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;AAEA,MAAM,QAAQ;IACZ,MAAM,SAAS;QACb;YACE,MAAM,6MAAK;YACX,OAAO;YACP,aAAa;QACf;QACA;YACE,MAAM,uMAAG;YACT,OAAO;YACP,aAAa;QACf;QACA;YACE,MAAM,6MAAK;YACX,OAAO;YACP,aAAa;QACf;KACD;IAED,qBACE,8OAAC,uIAAM;;0BAEL,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,oMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,UAAU;wBAAI;;0CAE5B,8OAAC;gCAAG,WAAU;0CAAqD;;;;;;0CAGnE,8OAAC;gCAAE,WAAU;0CAA2C;;;;;;;;;;;;;;;;;;;;;;0BAQ9D,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCACZ,OAAO,GAAG,CAAC,CAAC,OAAO;4BAClB,MAAM,OAAO,MAAM,IAAI;4BACvB,qBACE,8OAAC,oMAAM,CAAC,GAAG;gCAET,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAG;gCAC7B,aAAa;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAChC,UAAU;oCAAE,MAAM;gCAAK;gCACvB,YAAY;oCAAE,UAAU;oCAAK,OAAO,IAAI;gCAAI;gCAC5C,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAK,WAAU;;;;;;;;;;;;;;;;kDAGpB,8OAAC;wCAAG,WAAU;kDACX,MAAM,KAAK;;;;;;kDAEd,8OAAC;wCAAE,WAAU;kDACV,MAAM,WAAW;;;;;;;+BAhBf,MAAM,KAAK;;;;;wBAoBtB;;;;;;;;;;;;;;;;0BAMN,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAU;4BACV,KAAI;4BACJ,KAAI;;;;;;sCAEN,8OAAC;4BAAE,WAAU;sCAA4D;;;;;;;;;;;;;;;;;0BAQ7E,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,oMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,aAAa;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAChC,UAAU;4BAAE,MAAM;wBAAK;wBACvB,YAAY;4BAAE,UAAU;wBAAI;;0CAE5B,8OAAC;gCAAG,WAAU;0CAAqD;;;;;;0CAGnE,8OAAC;gCAAE,WAAU;0CAAgD;;;;;;0CAG7D,8OAAC,+KAAI;gCACH,IAAG;gCACH,WAAU;;oCACX;kDACgB,8OAAC,gOAAU;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnD;uCAEe"}},
    {"offset": {"line": 2497, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/Blog.tsx"],"sourcesContent":["import Layout from \"@/components/Layout\";\r\n\r\nconst Blog = () => (\r\n  <Layout>\r\n    <div className=\"max-w-4xl mx-auto px-4 py-20 text-center\">\r\n      <h1 className=\"text-3xl font-bold mb-4\">Blog</h1>\r\n      <p className=\"text-muted-foreground\">Coming soon — expert tips, cost guides, and home improvement insights.</p>\r\n    </div>\r\n  </Layout>\r\n);\r\n\r\nexport default Blog;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,OAAO,kBACX,8OAAC,uIAAM;kBACL,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA0B;;;;;;8BACxC,8OAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;;;;;;;uCAK5B"}},
    {"offset": {"line": 2541, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/CostGuide.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Layout from \"@/components/Layout\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { ChevronLeft, ChevronRight, Search, X } from \"lucide-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchPortfolioPublic } from \"@/lib/portfolio-api\";\r\nimport type { PortfolioItem } from \"@/lib/portfolio-types\";\r\n\r\nconst sortOptions = [\"Featured\", \"Newest\", \"Most Popular\"];\r\n\r\nconst fallbackItems: PortfolioItem[] = [\r\n  {\r\n    id: \"modern-kitchen-upgrade\",\r\n    title: \"Modern Kitchen Upgrade\",\r\n    category: \"Kitchens\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/media/250x165/L4iJEJBgnVg6.jpeg\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/L4iJEJBgnVg6.jpeg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/J6GlJ7ytlpit.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UqEBesZNaAi1.jpg\",\r\n    ],\r\n    tags: [\"Kitchen\", \"Remodeling\"],\r\n    scope: \"Layout refresh • Custom cabinetry\",\r\n    description: \"A bright, open kitchen transformation with refined cabinetry and upgraded finishes.\",\r\n    highlights: [\"Custom cabinetry\", \"Quartz counters\", \"Lighting redesign\"],\r\n    materials: [\"Quartz\", \"Matte brass fixtures\", \"Solid oak\"],\r\n    timeline: [\"Demo\", \"Prep\", \"Install\", \"Finish\"],\r\n    featured: true,\r\n    beforeAfter: {\r\n      before: \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/J6GlJ7ytlpit.jpg\",\r\n      after: \"/aEomQEx4Q2sZ.com/media/250x165/L4iJEJBgnVg6.jpeg\",\r\n    },\r\n  },\r\n  {\r\n    id: \"spa-bathroom-renewal\",\r\n    title: \"Spa Bathroom Renewal\",\r\n    category: \"Bathrooms\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/media/250x165/AW6h4tL4mBvH.jpeg\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/AW6h4tL4mBvH.jpeg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UqEBesZNaAi1.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/fSS86TPTtzR5.png\",\r\n    ],\r\n    tags: [\"Bathroom\", \"Remodeling\"],\r\n    scope: \"Tile refresh • Fixture upgrade\",\r\n    description: \"A calming, spa-inspired bathroom refresh with clean lines and premium materials.\",\r\n    highlights: [\"New tile\", \"Glass shower\", \"Brushed fixtures\"],\r\n    materials: [\"Porcelain\", \"Glass\", \"Brushed nickel\"],\r\n    timeline: [\"Demo\", \"Prep\", \"Install\", \"Finish\"],\r\n    featured: true,\r\n  },\r\n  {\r\n    id: \"flooring-transformation\",\r\n    title: \"Flooring Transformation\",\r\n    category: \"Flooring\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/media/250x165/AOX0l9K8erbq.png\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/AOX0l9K8erbq.png\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/J6GlJ7ytlpit.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UqEBesZNaAi1.jpg\",\r\n    ],\r\n    tags: [\"Flooring\", \"Renovation\"],\r\n    scope: \"Luxury vinyl • Acoustic underlay\",\r\n    description: \"Durable flooring layers paired with a polished finish for an elegant upgrade.\",\r\n    highlights: [\"Luxury vinyl\", \"Acoustic padding\", \"Seamless transitions\"],\r\n    materials: [\"LVP\", \"Acoustic foam\", \"Oak trim\"],\r\n    timeline: [\"Demo\", \"Prep\", \"Install\", \"Finish\"],\r\n    featured: true,\r\n  },\r\n  {\r\n    id: \"exterior-paint-reveal\",\r\n    title: \"Exterior Paint Reveal\",\r\n    category: \"Painting\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/fSS86TPTtzR5.png\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/fSS86TPTtzR5.png\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UqEBesZNaAi1.jpg\",\r\n    ],\r\n    tags: [\"Painting\", \"Exterior\"],\r\n    scope: \"Prep • Prime • Finish\",\r\n    description: \"A crisp exterior repaint with premium coatings and trim detailing.\",\r\n    highlights: [\"Surface prep\", \"Trim refresh\", \"Weatherproof seal\"],\r\n    materials: [\"Premium primer\", \"Exterior enamel\", \"Sealants\"],\r\n    timeline: [\"Prep\", \"Paint\", \"Finish\"],\r\n  },\r\n  {\r\n    id: \"roofing-refresh\",\r\n    title: \"Roofing Refresh\",\r\n    category: \"Roofing\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UZP1Emv43ZoL.png\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UZP1Emv43ZoL.png\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/J6GlJ7ytlpit.jpg\",\r\n    ],\r\n    tags: [\"Roofing\", \"Exterior\"],\r\n    scope: \"Shingles • Ventilation\",\r\n    description: \"Precision roofing update with upgraded shingles and ventilation improvements.\",\r\n    highlights: [\"New shingles\", \"Ridge vent\", \"Underlayment\"],\r\n    materials: [\"Architectural shingles\", \"Ventilation kit\", \"Flashing\"],\r\n    timeline: [\"Demo\", \"Install\", \"Finish\"],\r\n  },\r\n  {\r\n    id: \"remodel-living\",\r\n    title: \"Living Room Remodel\",\r\n    category: \"Remodeling\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UqEBesZNaAi1.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/AW6h4tL4mBvH.jpeg\",\r\n    ],\r\n    tags: [\"Remodeling\", \"Interiors\"],\r\n    scope: \"Open-plan refresh\",\r\n    description: \"An open, airy living space upgraded with tailored finishes and lighting.\",\r\n    highlights: [\"Built-ins\", \"Lighting plan\", \"Premium trim\"],\r\n    materials: [\"Custom millwork\", \"LED lighting\", \"Paint finish\"],\r\n    timeline: [\"Demo\", \"Prep\", \"Install\", \"Finish\"],\r\n    beforeAfter: {\r\n      before: \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UqEBesZNaAi1.jpg\",\r\n      after: \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n    },\r\n  },\r\n  {\r\n    id: \"deck-outdoor-upgrade\",\r\n    title: \"Deck & Outdoor Upgrade\",\r\n    category: \"Decks\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/J6GlJ7ytlpit.jpg\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/J6GlJ7ytlpit.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/L4iJEJBgnVg6.jpeg\",\r\n    ],\r\n    tags: [\"Decks\", \"Outdoor\"],\r\n    scope: \"Composite deck refresh\",\r\n    description: \"Outdoor entertaining space refreshed with resilient materials and clean lines.\",\r\n    highlights: [\"Composite deck\", \"Railing update\", \"Outdoor lighting\"],\r\n    materials: [\"Composite boards\", \"Stainless fixtures\", \"Outdoor lights\"],\r\n    timeline: [\"Demo\", \"Install\", \"Finish\"],\r\n  },\r\n  {\r\n    id: \"outdoor-living\",\r\n    title: \"Outdoor Living Retreat\",\r\n    category: \"Outdoor\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UqEBesZNaAi1.jpg\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/UqEBesZNaAi1.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/resources/images/networx/v2/ay0Wmaq4Mak8.jpg\",\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/k0jKHZgh5ySn.png\",\r\n    ],\r\n    tags: [\"Outdoor\", \"Lifestyle\"],\r\n    scope: \"Lounge design\",\r\n    description: \"A serene outdoor lounge with warm textures and functional amenities.\",\r\n    highlights: [\"Pergola\", \"Lounge seating\", \"Ambient lighting\"],\r\n    materials: [\"Treated wood\", \"Outdoor fabrics\", \"Lighting\"],\r\n    timeline: [\"Plan\", \"Install\", \"Finish\"],\r\n  },\r\n  {\r\n    id: \"before-after-signature\",\r\n    title: \"Signature Before & After\",\r\n    category: \"Before & After\",\r\n    coverImage: \"/aEomQEx4Q2sZ.com/media/250x165/AW6h4tL4mBvH.jpeg\",\r\n    images: [\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/AW6h4tL4mBvH.jpeg\",\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/AOX0l9K8erbq.png\",\r\n      \"/aEomQEx4Q2sZ.com/media/250x165/L4iJEJBgnVg6.jpeg\",\r\n    ],\r\n    tags: [\"Before & After\", \"Remodeling\"],\r\n    scope: \"Full transformation\",\r\n    description: \"See the transformation side-by-side with a refined before & after comparison.\",\r\n    highlights: [\"Full repaint\", \"New flooring\", \"Lighting refresh\"],\r\n    materials: [\"Premium paint\", \"Flooring\", \"Lighting\"],\r\n    timeline: [\"Demo\", \"Prep\", \"Install\", \"Finish\"],\r\n    beforeAfter: {\r\n      before: \"/aEomQEx4Q2sZ.com/media/250x165/AW6h4tL4mBvH.jpeg\",\r\n      after: \"/aEomQEx4Q2sZ.com/media/250x165/AOX0l9K8erbq.png\",\r\n    },\r\n  },\r\n];\r\n\r\nconst fallbackCategories = [\r\n  \"Kitchens\",\r\n  \"Bathrooms\",\r\n  \"Bedrooms\",\r\n  \"Flooring\",\r\n  \"Painting\",\r\n  \"Roofing\",\r\n  \"Remodeling\",\r\n  \"Decks\",\r\n  \"Outdoor\",\r\n];\r\n\r\nconst metrics = [\r\n  { label: \"Projects delivered\", value: \"420+\" },\r\n  { label: \"Avg. turnaround\", value: \"6 days\" },\r\n  { label: \"Client satisfaction\", value: \"4.9/5\" },\r\n];\r\n\r\nconst steps = [\r\n  { title: \"Consultation\", text: \"We define goals, budgets, and vision.\" },\r\n  { title: \"Planning\", text: \"Materials, timelines, and scope aligned.\" },\r\n  { title: \"Execution\", text: \"Craftsmanship delivered with precision.\" },\r\n  { title: \"Final walkthrough\", text: \"We polish every detail together.\" },\r\n];\r\n\r\nconst BeforeAfter = ({ before, after }: { before: string; after: string }) => {\r\n  const [value, setValue] = useState(55);\r\n\r\n  return (\r\n    <div className=\"relative w-full h-64 rounded-2xl overflow-hidden bg-slate-100\">\r\n      <img src={after} alt=\"After\" className=\"absolute inset-0 w-full h-full object-cover\" loading=\"lazy\" />\r\n      <div className=\"absolute inset-0\" style={{ width: `${value}%`, overflow: \"hidden\" }}>\r\n        <img src={before} alt=\"Before\" className=\"w-full h-full object-cover\" loading=\"lazy\" />\r\n      </div>\r\n      <span className=\"absolute left-4 top-4 text-xs font-semibold uppercase tracking-widest text-white/90\">Before</span>\r\n      <span className=\"absolute right-4 top-4 text-xs font-semibold uppercase tracking-widest text-white/90\">After</span>\r\n      <div className=\"absolute inset-y-0\" style={{ left: `${value}%` }}>\r\n        <div className=\"w-0.5 h-full bg-white shadow-lg\" />\r\n        <div className=\"absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white rounded-full shadow\" />\r\n      </div>\r\n      <input\r\n        aria-label=\"Before and after slider\"\r\n        type=\"range\"\r\n        min={0}\r\n        max={100}\r\n        value={value}\r\n        onChange={(e) => setValue(Number(e.target.value))}\r\n        className=\"absolute inset-0 w-full h-full opacity-0 cursor-ew-resize\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CostGuide = () => {\r\n  const [portfolioItems, setPortfolioItems] = useState<PortfolioItem[]>(fallbackItems);\r\n  const [categories, setCategories] = useState<string[]>(fallbackCategories);\r\n  const [active, setActive] = useState(\"All\");\r\n  const [sortBy, setSortBy] = useState(\"Featured\");\r\n  const [query, setQuery] = useState(\"\");\r\n  const [selected, setSelected] = useState<PortfolioItem | null>(null);\r\n  const [activeImage, setActiveImage] = useState(0);\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let activeRequest = true;\r\n    fetchPortfolioPublic()\r\n      .then((payload) => {\r\n        if (!activeRequest || !payload) return;\r\n        if (payload.items?.length) setPortfolioItems(payload.items);\r\n        if (payload.categories?.length) setCategories(payload.categories);\r\n      })\r\n      .finally(() => {\r\n        if (activeRequest) setIsLoading(false);\r\n      });\r\n    return () => {\r\n      activeRequest = false;\r\n    };\r\n  }, []);\r\n\r\n  const filters = useMemo(() => {\r\n    const base = categories.length\r\n      ? categories\r\n      : Array.from(new Set(portfolioItems.map((item) => item.category).filter(Boolean)));\r\n    return [\"All\", ...base, \"Before & After\"];\r\n  }, [categories, portfolioItems]);\r\n\r\n  const filtered = useMemo(() => {\r\n    const base = portfolioItems.filter((item) => {\r\n      const matchesCategory =\r\n        active === \"All\" ||\r\n        (active === \"Before & After\" ? item.beforeAfter : item.category === active);\r\n      const matchesQuery =\r\n        item.title.toLowerCase().includes(query.toLowerCase()) ||\r\n        item.tags.join(\" \").toLowerCase().includes(query.toLowerCase());\r\n      return matchesCategory && matchesQuery;\r\n    });\r\n\r\n    if (sortBy === \"Newest\") return [...base].reverse();\r\n    if (sortBy === \"Most Popular\") return [...base].sort((a, b) => b.tags.length - a.tags.length);\r\n    return [...base].sort((a, b) => (b.featured ? 1 : 0) - (a.featured ? 1 : 0));\r\n  }, [active, query, sortBy, portfolioItems]);\r\n\r\n  const featured = useMemo(\r\n    () => portfolioItems.filter((item) => item.featured).slice(0, 3),\r\n    [portfolioItems]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!selected) return;\r\n    setActiveImage(0);\r\n  }, [selected]);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      document.body.style.overflow = \"hidden\";\r\n      return () => {\r\n        document.body.style.overflow = \"\";\r\n      };\r\n    }\r\n  }, [selected]);\r\n\r\n  useEffect(() => {\r\n    const handler = (event: KeyboardEvent) => {\r\n      if (event.key === \"Escape\") setSelected(null);\r\n    };\r\n    document.addEventListener(\"keydown\", handler);\r\n    return () => document.removeEventListener(\"keydown\", handler);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selected && modalRef.current) {\r\n      modalRef.current.focus();\r\n    }\r\n  }, [selected]);\r\n\r\n  const openItem = (item: PortfolioItem) => setSelected(item);\r\n\r\n  const goPrev = () => {\r\n    if (!selected) return;\r\n    setActiveImage((prev) => (prev - 1 + selected.images.length) % selected.images.length);\r\n  };\r\n\r\n  const goNext = () => {\r\n    if (!selected) return;\r\n    setActiveImage((prev) => (prev + 1) % selected.images.length);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <section className=\"relative overflow-hidden\">\r\n        <div\r\n          className=\"absolute inset-0 bg-cover bg-center\"\r\n          style={{ backgroundImage: \"url(/media/250x165/portifolio.png)\" }}\r\n        />\r\n        <div className=\"absolute inset-0 bg-gradient-to-r from-slate-900/70 via-slate-900/40 to-slate-900/20\" />\r\n        <div className=\"relative max-w-6xl mx-auto px-6 py-24 text-white\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, ease: \"easeOut\" }}\r\n            className=\"max-w-3xl\"\r\n          >\r\n            <h1 className=\"text-5xl font-semibold tracking-tight\">Portfolio</h1>\r\n            <p className=\"mt-4 text-lg text-white/80\">A curated selection of high-finish transformations.</p>\r\n            <div className=\"mt-8 flex flex-wrap gap-4\">\r\n              <Link\r\n                to=\"/quote/carpentry\"\r\n                className=\"rounded-full bg-white text-slate-900 px-6 py-3 text-sm font-semibold hover:bg-white/90 transition\"\r\n              >\r\n                Request a Quote\r\n              </Link>\r\n              <a\r\n                href=\"#portfolio-grid\"\r\n                className=\"rounded-full border border-white/60 px-6 py-3 text-sm font-semibold text-white hover:bg-white/10 transition\"\r\n              >\r\n                View Work\r\n              </a>\r\n            </div>\r\n            <div className=\"mt-10 grid gap-6 sm:grid-cols-3\">\r\n              {metrics.map((metric) => (\r\n                <div key={metric.label} className=\"border border-white/20 rounded-2xl px-4 py-3\">\r\n                  <div className=\"text-xl font-semibold\">{metric.value}</div>\r\n                  <div className=\"text-xs uppercase tracking-[0.2em] text-white/60 mt-1\">{metric.label}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n          <div className=\"absolute bottom-6 left-1/2 -translate-x-1/2 text-xs uppercase tracking-[0.3em] text-white/50\">\r\n            Scroll\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"py-14\">\r\n        <div className=\"max-w-6xl mx-auto px-6\">\r\n          <h2 className=\"text-3xl font-semibold text-slate-900\">Featured Projects</h2>\r\n          <div className=\"mt-8 grid gap-6 lg:grid-cols-3\">\r\n            {featured.map((item) => (\r\n              <motion.div\r\n                key={item.id}\r\n                whileHover={{ y: -4 }}\r\n                className=\"rounded-3xl overflow-hidden bg-white shadow-lg\"\r\n              >\r\n                <div className=\"relative overflow-hidden\">\r\n                  <img\r\n                    src={item.coverImage}\r\n                    alt={item.title}\r\n                    className=\"h-72 w-full object-cover transition-transform duration-300 hover:scale-[1.02]\"\r\n                    loading=\"lazy\"\r\n                  />\r\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-slate-900/50 to-transparent\" />\r\n                </div>\r\n                <div className=\"p-6\">\r\n                  <h3 className=\"text-xl font-semibold text-slate-900\">{item.title}</h3>\r\n                  <p className=\"mt-2 text-sm text-slate-600 line-clamp-2\">{item.description}</p>\r\n                  <div className=\"mt-3 text-xs text-slate-500\">{item.tags.join(\" • \")}</div>\r\n                  <button\r\n                    onClick={() => openItem(item)}\r\n                    className=\"mt-4 inline-flex items-center text-sm font-semibold text-primary\"\r\n                  >\r\n                    View Case →\r\n                  </button>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section id=\"portfolio-grid\" className=\"py-12\">\r\n        <div className=\"max-w-6xl mx-auto px-6\">\r\n          <div className=\"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between\">\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              {filters.map((label) => (\r\n                <button\r\n                  key={label}\r\n                  onClick={() => setActive(label)}\r\n                  className={`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${\r\n                    active === label\r\n                      ? \"bg-primary text-white shadow\"\r\n                      : \"bg-white text-slate-700 border border-slate-200 hover:border-primary/40\"\r\n                  }`}\r\n                >\r\n                  {label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n              {isLoading && (\r\n                <span className=\"text-xs uppercase tracking-[0.2em] text-slate-400\">Syncing portfolio</span>\r\n              )}\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400\" />\r\n                <input\r\n                  value={query}\r\n                  onChange={(e) => setQuery(e.target.value)}\r\n                  placeholder=\"Search projects...\"\r\n                  className=\"pl-9 pr-4 py-2 rounded-full border border-slate-200 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30\"\r\n                />\r\n              </div>\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n                className=\"rounded-full border border-slate-200 py-2 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30\"\r\n              >\r\n                {sortOptions.map((option) => (\r\n                  <option key={option} value={option}>\r\n                    Sort by: {option}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <motion.div\r\n            layout\r\n            className=\"mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3\"\r\n          >\r\n            <AnimatePresence mode=\"popLayout\">\r\n              {filtered.map((item, idx) => (\r\n                <motion.button\r\n                  layout\r\n                  key={item.id}\r\n                  onClick={() => openItem(item)}\r\n                  initial={{ opacity: 0, scale: 0.98 }}\r\n                  animate={{ opacity: 1, scale: 1 }}\r\n                  exit={{ opacity: 0, scale: 0.98 }}\r\n                  transition={{ duration: 0.25 }}\r\n                  className=\"group text-left\"\r\n                >\r\n                  <div\r\n                    className={`overflow-hidden rounded-2xl bg-slate-100 relative ${idx % 3 === 0 ? \"lg:h-72\" : \"lg:h-60\"}`}\r\n                    style={{ boxShadow: \"0 12px 26px rgba(11,42,74,0.12)\" }}\r\n                  >\r\n                    <img\r\n                      src={item.coverImage}\r\n                      alt={item.title}\r\n                      loading=\"lazy\"\r\n                      className=\"h-60 w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]\"\r\n                    />\r\n                    <div className=\"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-tr from-white/0 via-white/0 to-white/30\" />\r\n                  </div>\r\n                  <div className=\"mt-4\">\r\n                    <h3 className=\"text-lg font-semibold text-slate-900\">{item.title}</h3>\r\n                    <p className=\"text-sm text-slate-500\">{item.tags.join(\" • \")}</p>\r\n                    <p className=\"text-xs text-slate-500 mt-1\">Scope: {item.scope}</p>\r\n                    <span className=\"text-sm font-semibold text-primary mt-2 inline-flex\">View details →</span>\r\n                  </div>\r\n                </motion.button>\r\n              ))}\r\n            </AnimatePresence>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"py-14 bg-slate-50\">\r\n        <div className=\"max-w-6xl mx-auto px-6\">\r\n          <h2 className=\"text-3xl font-semibold text-slate-900\">How we work</h2>\r\n          <div className=\"mt-8 grid gap-6 md:grid-cols-4\">\r\n            {steps.map((step) => (\r\n              <div key={step.title} className=\"rounded-2xl bg-white p-5 shadow-sm\">\r\n                <h3 className=\"text-sm font-semibold text-slate-900\">{step.title}</h3>\r\n                <p className=\"text-sm text-slate-500 mt-2\">{step.text}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"py-14\">\r\n        <div className=\"max-w-6xl mx-auto px-6\">\r\n          <div className=\"rounded-3xl border border-slate-200 bg-white p-8 flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between\">\r\n            <div>\r\n              <h3 className=\"text-2xl font-semibold text-slate-900\">Trusted by</h3>\r\n              <p className=\"text-sm text-slate-500 mt-2\">Licensed • Insured • Verified</p>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-4 text-xs uppercase tracking-[0.2em] text-slate-400\">\r\n              <span>Licensed</span>\r\n              <span>Insured</span>\r\n              <span>Verified</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"py-16\">\r\n        <div className=\"max-w-6xl mx-auto px-6\">\r\n          <div className=\"rounded-3xl bg-slate-900 text-white px-8 py-10 flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between\">\r\n            <div>\r\n              <h3 className=\"text-3xl font-semibold\">Ready to upgrade your home?</h3>\r\n              <p className=\"text-sm text-white/70 mt-2\">Fast response • High-finish results</p>\r\n            </div>\r\n            <Link\r\n              to=\"/quote/carpentry\"\r\n              className=\"rounded-full bg-white text-slate-900 px-6 py-3 text-sm font-semibold hover:bg-white/90 transition\"\r\n            >\r\n              Request a Quote\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <AnimatePresence>\r\n        {selected && (\r\n          <motion.div\r\n            className=\"fixed inset-0 z-50 flex items-center justify-center px-4 py-8\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n          >\r\n            <button\r\n              className=\"absolute inset-0 bg-black/50\"\r\n              aria-label=\"Close portfolio modal\"\r\n              onClick={() => setSelected(null)}\r\n            />\r\n            <motion.div\r\n              ref={modalRef}\r\n              tabIndex={-1}\r\n              className=\"relative w-full max-w-5xl bg-white rounded-3xl overflow-hidden\"\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: 20 }}\r\n              transition={{ duration: 0.25, ease: \"easeOut\" }}\r\n            >\r\n              <button\r\n                className=\"absolute top-4 right-4 p-2 rounded-full bg-white shadow\"\r\n                aria-label=\"Close\"\r\n                onClick={() => setSelected(null)}\r\n              >\r\n                <X className=\"h-4 w-4\" />\r\n              </button>\r\n              <div className=\"grid lg:grid-cols-[1.1fr_0.9fr]\">\r\n                <div className=\"p-6 space-y-6\">\r\n                  {selected.beforeAfter ? (\r\n                    <BeforeAfter before={selected.beforeAfter.before} after={selected.beforeAfter.after} />\r\n                  ) : (\r\n                    <div className=\"relative\">\r\n                      <img\r\n                        src={selected.images[activeImage]}\r\n                        alt={selected.title}\r\n                        className=\"w-full h-72 object-cover rounded-2xl\"\r\n                        loading=\"lazy\"\r\n                      />\r\n                      <button\r\n                        className=\"absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/90 shadow\"\r\n                        onClick={goPrev}\r\n                        aria-label=\"Previous image\"\r\n                      >\r\n                        <ChevronLeft className=\"h-4 w-4\" />\r\n                      </button>\r\n                      <button\r\n                        className=\"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/90 shadow\"\r\n                        onClick={goNext}\r\n                        aria-label=\"Next image\"\r\n                      >\r\n                        <ChevronRight className=\"h-4 w-4\" />\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"grid grid-cols-4 gap-3\">\r\n                    {selected.images.slice(0, 4).map((img, idx) => (\r\n                      <button\r\n                        key={img}\r\n                        className={`rounded-xl overflow-hidden border ${idx === activeImage ? \"border-primary\" : \"border-transparent\"}`}\r\n                        onClick={() => setActiveImage(idx)}\r\n                        aria-label={`Select image ${idx + 1}`}\r\n                      >\r\n                        <img src={img} alt=\"Gallery thumbnail\" className=\"h-16 w-full object-cover\" loading=\"lazy\" />\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-6 border-l border-slate-100\">\r\n                  <h2 className=\"text-2xl font-semibold text-slate-900\">{selected.title}</h2>\r\n                  <p className=\"mt-3 text-slate-600 text-sm leading-6\">{selected.description}</p>\r\n\r\n                  <div className=\"mt-6\">\r\n                    <h3 className=\"text-sm font-semibold text-slate-900\">What we delivered</h3>\r\n                    <ul className=\"mt-2 space-y-2 text-sm text-slate-600\">\r\n                      {selected.highlights.map((item) => (\r\n                        <li key={item}>• {item}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"mt-6\">\r\n                    <h3 className=\"text-sm font-semibold text-slate-900\">Materials & finishes</h3>\r\n                    <ul className=\"mt-2 space-y-2 text-sm text-slate-600\">\r\n                      {selected.materials.map((item) => (\r\n                        <li key={item}>• {item}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"mt-6\">\r\n                    <h3 className=\"text-sm font-semibold text-slate-900\">Timeline</h3>\r\n                    <div className=\"mt-3 space-y-2\">\r\n                      {selected.timeline.map((step) => (\r\n                        <div key={step} className=\"flex items-center gap-2 text-sm text-slate-600\">\r\n                          <span className=\"h-2 w-2 rounded-full bg-primary\" />\r\n                          {step}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-6\">\r\n                    <h3 className=\"text-sm font-semibold text-slate-900\">Testimonial</h3>\r\n                    <p className=\"text-sm text-slate-600 mt-2\">\r\n                      “The team delivered beyond expectations. Quality craftsmanship and a flawless finish.”\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"sticky bottom-0 bg-white pt-6\">\r\n                    <Link\r\n                      to=\"/quote/carpentry\"\r\n                      className=\"inline-flex items-center justify-center w-full rounded-full bg-primary text-white py-3 text-sm font-semibold hover:bg-primary/90 transition\"\r\n                    >\r\n                      Request a Quote\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CostGuide;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4144, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/Experiences.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Star, CheckCircle, MessageCircle } from \"lucide-react\";\r\nimport Layout from \"@/components/Layout\";\r\nimport RatingSummary from \"@/components/RatingSummary\";\r\nimport ReviewFilters from \"@/components/ReviewFilters\";\r\nimport ReviewCard from \"@/components/ReviewCard\";\r\nimport ShareExperienceCTA from \"@/components/ShareExperienceCTA\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { reviewsService } from \"@/lib/reviewsService\";\r\nimport { Review } from \"@/types/reviews\";\r\n\r\nconst Experiences = () => {\r\n  const [reviews, setReviews] = useState<Review[]>([]);\r\n  const [filteredReviews, setFilteredReviews] = useState<Review[]>([]);\r\n  const [selectedRating, setSelectedRating] = useState<number | undefined>();\r\n  const [sortBy, setSortBy] = useState<\"newest\" | \"highest\">(\"newest\");\r\n  const [offset, setOffset] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Load reviews\r\n  useEffect(() => {\r\n    const loadReviews = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const allReviews = await reviewsService.getReviews({\r\n          limit: 999, // get all for filtering\r\n        });\r\n        setReviews(allReviews);\r\n        setOffset(0);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    loadReviews();\r\n  }, []);\r\n\r\n  // Filter and sort\r\n  useEffect(() => {\r\n    let filtered = reviews;\r\n\r\n    // Apply rating filter\r\n    if (selectedRating) {\r\n      filtered = filtered.filter((r) => r.rating === selectedRating);\r\n    }\r\n\r\n    // Apply sorting\r\n    if (sortBy === \"highest\") {\r\n      filtered.sort((a, b) => b.rating - a.rating || b.createdAt.getTime() - a.createdAt.getTime());\r\n    } else {\r\n      filtered.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\r\n    }\r\n\r\n    setFilteredReviews(filtered.slice(0, 6 + offset * 6));\r\n  }, [reviews, selectedRating, sortBy, offset]);\r\n\r\n  const handleLoadMore = () => {\r\n    setOffset(offset + 1);\r\n  };\r\n\r\n  const handleRatingClick = (rating: number | undefined) => {\r\n    setSelectedRating(rating);\r\n    setOffset(0);\r\n  };\r\n\r\n  const handleSortChange = (sort: \"newest\" | \"highest\") => {\r\n    setSortBy(sort);\r\n    setOffset(0);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      {/* Hero Section - Clean Premium */}\r\n      <section className=\"relative bg-gradient-to-b from-gray-50 to-white py-16 px-6 border-b border-gray-100\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"max-w-4xl mx-auto text-center\"\r\n        >\r\n          {/* Title */}\r\n          <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 mb-4 tracking-tight\">\r\n            Client Experiences\r\n          </h1>\r\n          <p className=\"text-lg text-gray-600 max-w-2xl mx-auto mb-8\">\r\n            Real reviews from real homeowners. Discover why families trust Barrigudo to connect them with the best home professionals.\r\n          </p>\r\n\r\n          {/* Stats Card */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.2, duration: 0.6 }}\r\n            className=\"inline-flex items-center gap-8 bg-white border border-gray-200 rounded-2xl px-8 py-5 shadow-sm\"\r\n          >\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"flex gap-1\">\r\n                {[...Array(5)].map((_, i) => (\r\n                  <Star\r\n                    key={i}\r\n                    size={20}\r\n                    className=\"fill-yellow-400 text-yellow-400\"\r\n                  />\r\n                ))}\r\n              </div>\r\n              <span className=\"text-2xl font-bold text-gray-900\">4.8</span>\r\n            </div>\r\n            \r\n            <div className=\"w-px h-10 bg-gray-200\" />\r\n            \r\n            <div className=\"text-left\">\r\n              <div className=\"text-2xl font-bold text-gray-900\">5,000+</div>\r\n              <div className=\"text-sm text-gray-600\">Reviews</div>\r\n            </div>\r\n\r\n            <div className=\"w-px h-10 bg-gray-200\" />\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <CheckCircle className=\"text-green-600\" size={20} />\r\n              <span className=\"text-sm font-medium text-gray-700\">Verified by Google</span>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      </section>\r\n\r\n      {/* Main Content Section */}\r\n      <section className=\"py-20 px-6 bg-gradient-to-b from-slate-50 to-white\">\r\n        <div className=\"max-w-5xl mx-auto\">\r\n          {/* Rating Summary */}\r\n          <RatingSummary onStarFilterClick={handleRatingClick} selectedRating={selectedRating} />\r\n\r\n          {/* Filters */}\r\n          <ReviewFilters\r\n            selectedRating={selectedRating}\r\n            onRatingChange={handleRatingClick}\r\n            sortBy={sortBy}\r\n            onSortChange={handleSortChange}\r\n          />\r\n\r\n          {/* Reviews List */}\r\n          {isLoading ? (\r\n            <div className=\"grid gap-6\">\r\n              {[1, 2, 3].map((i) => (\r\n                <div\r\n                  key={i}\r\n                  className=\"bg-white rounded-2xl p-6 border border-slate-100 animate-pulse h-32\"\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : filteredReviews.length === 0 ? (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              className=\"text-center py-20\"\r\n            >\r\n              <MessageCircle className=\"mx-auto mb-4 text-slate-400\" size={48} />\r\n              <h3 className=\"text-xl font-semibold text-slate-900 mb-2\">\r\n                {selectedRating\r\n                  ? `No ${selectedRating}-star reviews yet`\r\n                  : \"No reviews yet\"}\r\n              </h3>\r\n              <p className=\"text-slate-600\">\r\n                Be the first to share your Barrigudo experience with the community.\r\n              </p>\r\n            </motion.div>\r\n          ) : (\r\n            <>\r\n              <div className=\"grid gap-6\">\r\n                <AnimatePresence>\r\n                  {filteredReviews.map((review, idx) => (\r\n                    <ReviewCard key={review.id} review={review} index={idx} />\r\n                  ))}\r\n                </AnimatePresence>\r\n              </div>\r\n\r\n              {/* Load More Button */}\r\n              {reviews.length > 6 + offset * 6 && (\r\n                <motion.div\r\n                  initial={{ opacity: 0 }}\r\n                  animate={{ opacity: 1 }}\r\n                  className=\"flex justify-center mt-12\"\r\n                >\r\n                  <Button\r\n                    onClick={handleLoadMore}\r\n                    className=\"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all\"\r\n                  >\r\n                    Load More Reviews\r\n                  </Button>\r\n                </motion.div>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {/* Share Experience CTA */}\r\n          <ShareExperienceCTA />\r\n        </div>\r\n      </section>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Experiences;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4544, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/AdminLogin.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { fetchAdminSession, adminLogin } from \"@/lib/admin-auth\";\r\nimport { Lock } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst AdminLogin = () => {\r\n  const navigate = useNavigate();\r\n  const [error, setError] = useState(\"\");\r\n  const [checkingSession, setCheckingSession] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n\r\n    fetchAdminSession()\r\n      .then((session) => {\r\n        if (!active) return;\r\n        if (session?.email) {\r\n          navigate(\"/admin\", { replace: true });\r\n          return;\r\n        }\r\n        setCheckingSession(false);\r\n      })\r\n      .catch(() => {\r\n        if (!active) return;\r\n        setCheckingSession(false);\r\n      });\r\n\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, [navigate]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    const result = await fetchAdminSession();\r\n    if (sessionStorage.getItem(\"admin_session\") || result?.email) {\r\n      navigate(\"/admin\", { replace: true });\r\n      return;\r\n    }\r\n\r\n    const loginResult = await adminLogin();\r\n    if (!loginResult.ok) {\r\n      setError(loginResult.error || \"Login failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center px-6\" style={{ background: \"linear-gradient(160deg, #0b2a4a 0%, #081a2f 100%)\" }}>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n        className=\"w-full max-w-sm\"\r\n      >\r\n        <div className=\"bg-white rounded-2xl border border-gray-200 p-8 shadow-lg\">\r\n          <div className=\"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mx-auto mb-6\">\r\n            <Lock className=\"h-5 w-5 text-blue-600\" strokeWidth={1.5} />\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold text-center text-gray-900 mb-2\">Admin Login</h1>\r\n          <p className=\"text-center text-sm text-gray-600 mb-8\">Click to access the admin panel</p>\r\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n            {error && <p className=\"text-red-600 text-sm font-medium\">{error}</p>}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={checkingSession}\r\n              className=\"w-full py-3 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-all duration-200 hover:shadow-lg active:scale-[0.99]\"\r\n            >\r\n              {checkingSession ? \"Checking...\" : \"Sign In\"}\r\n            </button>\r\n          </form>\r\n          <p className=\"text-[11px] text-gray-500 text-center mt-6 leading-relaxed\">\r\n            Access is enabled by one-click login.\r\n          </p>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLogin;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,aAAa;IACjB,MAAM,WAAW,IAAA,+KAAW;IAC5B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;QAEb,IAAA,gJAAiB,IACd,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,QAAQ;YACb,IAAI,SAAS,OAAO;gBAClB,SAAS,UAAU;oBAAE,SAAS;gBAAK;gBACnC;YACF;YACA,mBAAmB;QACrB,GACC,KAAK,CAAC;YACL,IAAI,CAAC,QAAQ;YACb,mBAAmB;QACrB;QAEF,OAAO;YACL,SAAS;QACX;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,MAAM,SAAS,MAAM,IAAA,gJAAiB;QACtC,IAAI,eAAe,OAAO,CAAC,oBAAoB,QAAQ,OAAO;YAC5D,SAAS,UAAU;gBAAE,SAAS;YAAK;YACnC;QACF;QAEA,MAAM,cAAc,MAAM,IAAA,yIAAU;QACpC,IAAI,CAAC,YAAY,EAAE,EAAE;YACnB,SAAS,YAAY,KAAK,IAAI;QAChC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAqD,OAAO;YAAE,YAAY;QAAoD;kBAC3I,cAAA,8OAAC,oMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,YAAY;gBAAE,UAAU;YAAI;YAC5B,WAAU;sBAEV,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,0MAAI;4BAAC,WAAU;4BAAwB,aAAa;;;;;;;;;;;kCAEvD,8OAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAClE,8OAAC;wBAAE,WAAU;kCAAyC;;;;;;kCACtD,8OAAC;wBAAK,UAAU;wBAAc,WAAU;;4BACrC,uBAAS,8OAAC;gCAAE,WAAU;0CAAoC;;;;;;0CAC3D,8OAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,kBAAkB,gBAAgB;;;;;;;;;;;;kCAGvC,8OAAC;wBAAE,WAAU;kCAA6D;;;;;;;;;;;;;;;;;;;;;;AAOpF;uCAEe"}},
    {"offset": {"line": 4710, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/Dashboard.tsx"],"sourcesContent":["import { useMemo, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"@/lib/navigation-compat\";\r\nimport { useUser } from \"@/context/UserContext\";\r\nimport { getLeads, type Lead } from \"@/lib/leads\";\r\nimport { Users, TrendingUp, Calendar, Clock } from \"lucide-react\";\r\nimport { fetchLoginAttempts, type LoginAttempt } from \"@/lib/admin-auth\";\r\nimport {\r\n  LineChart, Line, BarChart, Bar, PieChart, Pie, Cell,\r\n  XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend,\r\n} from \"recharts\";\r\n\r\nconst COLORS = [\"#2563eb\", \"#7c3aed\", \"#059669\", \"#0b2a4a\"];\r\n\r\nconst AnimatedNumber = ({ value }: { value: number }) => {\r\n  const [display, setDisplay] = useState(0);\r\n  useEffect(() => {\r\n    let start = 0;\r\n    const step = Math.max(1, Math.ceil(value / 30));\r\n    const timer = setInterval(() => {\r\n      start += step;\r\n      if (start >= value) { setDisplay(value); clearInterval(timer); }\r\n      else setDisplay(start);\r\n    }, 30);\r\n    return () => clearInterval(timer);\r\n  }, [value]);\r\n  return <span>{display}</span>;\r\n};\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useUser();\r\n  const [leads, setLeads] = useState<Lead[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (user?.organization?.id) {\r\n      getLeads(user.organization.id).then(setLeads);\r\n    } else {\r\n      getLeads().then(setLeads);\r\n    }\r\n  }, [user]);\r\n  const [loginAttempts, setLoginAttempts] = useState<LoginAttempt[]>([]);\r\n  const [attemptFilter, setAttemptFilter] = useState<\"all\" | \"success\" | \"fail\">(\"all\");\r\n  const now = new Date();\r\n  const today = now.toISOString().slice(0, 10);\r\n  const weekAgo = new Date(now.getTime() - 7 * 86400000).toISOString();\r\n  const monthAgo = new Date(now.getTime() - 30 * 86400000).toISOString();\r\n\r\n  const leadsToday = leads.filter((l) => l.createdAt.slice(0, 10) === today).length;\r\n  const leadsWeek = leads.filter((l) => l.createdAt >= weekAgo).length;\r\n  const leadsMonth = leads.filter((l) => l.createdAt >= monthAgo).length;\r\n\r\n  const dailyData = useMemo(() => {\r\n    const days: Record<string, number> = {};\r\n    for (let i = 29; i >= 0; i--) {\r\n      const d = new Date(now.getTime() - i * 86400000).toISOString().slice(0, 10);\r\n      days[d] = 0;\r\n    }\r\n    leads.forEach((l) => {\r\n      const d = l.createdAt?.slice(0, 10);\r\n      if (d && days[d] !== undefined) days[d]++;\r\n    });\r\n    return Object.entries(days).map(([date, count]) => ({ date: date.slice(5), count }));\r\n  }, [leads]);\r\n\r\n  const serviceData = useMemo(() => {\r\n    const map: Record<string, number> = {};\r\n    leads.forEach((l) => { map[l.serviceSlug] = (map[l.serviceSlug] || 0) + 1; });\r\n    return Object.entries(map).sort((a, b) => b[1] - a[1]).slice(0, 10).map(([name, count]) => ({ name, count }));\r\n  }, [leads]);\r\n\r\n  const locationData = useMemo(() => {\r\n    let home = 0, biz = 0;\r\n    leads.forEach((l) => { if (l.locationType?.includes(\"Home\")) home++; else if (l.locationType?.includes(\"Business\")) biz++; });\r\n    return [\r\n      { name: \"Home\", value: home },\r\n      { name: \"Business\", value: biz },\r\n    ].filter((d) => d.value > 0);\r\n  }, [leads]);\r\n\r\n  const kpis = [\r\n    { label: \"Today\", value: leadsToday, icon: Clock, color: \"#2563eb\" },\r\n    { label: \"This Week\", value: leadsWeek, icon: Calendar, color: \"#7c3aed\" },\r\n    { label: \"This Month\", value: leadsMonth, icon: TrendingUp, color: \"#059669\" },\r\n    { label: \"Total\", value: leads.length, icon: Users, color: \"#0b2a4a\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    const status = attemptFilter === \"all\" ? undefined : attemptFilter;\r\n    fetchLoginAttempts(status)\r\n      .then((attempts) => {\r\n        if (!active) return;\r\n        setLoginAttempts(attempts.slice(0, 50));\r\n      })\r\n      .catch(() => {\r\n        if (!active) return;\r\n        setLoginAttempts([]);\r\n      });\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, [attemptFilter]);\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-7xl mx-auto\">\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Dashboard</h1>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Overview of all leads and metrics</p>\r\n      </div>\r\n\r\n      {/* KPIs */}\r\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-5 mb-8\">\r\n        {kpis.map((k) => (\r\n          <div key={k.label} className=\"bg-white rounded-xl border border-gray-200 p-6 hover:border-gray-300 transition-all duration-200\">\r\n            <div style={{ borderTop: `3px solid ${k.color}` }} className=\"mb-4\" />\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <span className=\"text-xs font-semibold text-gray-600 uppercase tracking-widest\">{k.label}</span>\r\n              <div className=\"w-8 h-8 rounded-lg flex items-center justify-center\" style={{ background: `${k.color}15` }}>\r\n                <k.icon className=\"h-4 w-4\" style={{ color: k.color }} strokeWidth={1.5} />\r\n              </div>\r\n            </div>\r\n            <p className=\"text-3xl font-bold text-gray-900 tracking-tight\"><AnimatedNumber value={k.value} /></p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Charts */}\r\n      <div className=\"grid lg:grid-cols-2 gap-6 mb-8\">\r\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\r\n          <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Leads per Day (30 days)</h3>\r\n          {dailyData.length > 0 && (\r\n            <ResponsiveContainer width=\"100%\" height={280}>\r\n              <LineChart data={dailyData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                <XAxis dataKey=\"date\" tick={{ fontSize: 11, fill: \"#6b7280\" }} />\r\n                <YAxis allowDecimals={false} tick={{ fontSize: 11, fill: \"#6b7280\" }} />\r\n                <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n                <Line type=\"monotone\" dataKey=\"count\" stroke=\"#2563eb\" strokeWidth={2} dot={false} />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          )}\r\n        </div>\r\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\r\n          <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Top Services</h3>\r\n          {serviceData.length > 0 && (\r\n            <ResponsiveContainer width=\"100%\" height={280}>\r\n              <BarChart data={serviceData} layout=\"vertical\">\r\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                <XAxis type=\"number\" allowDecimals={false} tick={{ fontSize: 11, fill: \"#6b7280\" }} />\r\n                <YAxis type=\"category\" dataKey=\"name\" width={120} tick={{ fontSize: 11, fill: \"#6b7280\" }} />\r\n                <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n                <Bar dataKey=\"count\" fill=\"#2563eb\" radius={[0, 6, 6, 0]} />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {locationData.length > 0 && (\r\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 mb-8 max-w-md\">\r\n          <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Location Type</h3>\r\n          <ResponsiveContainer width=\"100%\" height={220}>\r\n            <PieChart>\r\n              <Pie data={locationData} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={70} innerRadius={40} label>\r\n                {locationData.map((_, i) => (\r\n                  <Cell key={i} fill={COLORS[i % COLORS.length]} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n              <Legend />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden mb-8\">\r\n        <div className=\"p-6 border-b border-gray-200 flex flex-wrap items-center justify-between gap-3\">\r\n          <div>\r\n            <h3 className=\"font-semibold text-sm text-gray-900\">Login Attempts</h3>\r\n            <p className=\"text-xs text-gray-500 mt-1\">Latest 50 attempts</p>\r\n          </div>\r\n          <select\r\n            value={attemptFilter}\r\n            onChange={(event) => setAttemptFilter(event.target.value as \"all\" | \"success\" | \"fail\")}\r\n            className=\"rounded-lg border border-gray-200 py-2 px-3 text-xs uppercase tracking-widest text-gray-600\"\r\n          >\r\n            <option value=\"all\">All</option>\r\n            <option value=\"success\">Success</option>\r\n            <option value=\"fail\">Fail</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Time</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Email</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">IP</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Outcome</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Reason</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loginAttempts.map((attempt) => (\r\n                <tr key={`${attempt.timestamp}-${attempt.email}`} className=\"border-t border-gray-200\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-gray-600\">\r\n                    {new Date(attempt.timestamp).toLocaleString()}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-gray-900 font-medium\">{attempt.email}</td>\r\n                  <td className=\"px-6 py-4 text-gray-600\">{attempt.ip}</td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <span className={`text-xs px-2.5 py-1 rounded-full font-semibold ${attempt.outcome === \"success\" ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-700\"\r\n                      }`}>{attempt.outcome}</span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-gray-600\">{attempt.reason}</td>\r\n                </tr>\r\n              ))}\r\n              {loginAttempts.length === 0 && (\r\n                <tr><td colSpan={5} className=\"px-6 py-16 text-center text-gray-600\">No login attempts logged yet.</td></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent leads */}\r\n      <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\r\n        <div className=\"p-6 border-b border-gray-200\">\r\n          <h3 className=\"font-semibold text-sm text-gray-900\">Recent Leads</h3>\r\n        </div>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Date</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Service</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">ZIP</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Name</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Email</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-wider\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {leads.slice(0, 20).map((l) => (\r\n                <tr\r\n                  key={l.id}\r\n                  className=\"border-t border-gray-200 hover:bg-gray-50 cursor-pointer transition-colors duration-150\"\r\n                  onClick={() => navigate(`/admin/leads/${l.id}`)}\r\n                >\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-gray-600\">{new Date(l.createdAt).toLocaleDateString()}</td>\r\n                  <td className=\"px-6 py-4 text-gray-900 font-medium\">{l.serviceSlug}</td>\r\n                  <td className=\"px-6 py-4 text-gray-600\">{l.zip}</td>\r\n                  <td className=\"px-6 py-4 text-gray-900 font-semibold\">{l.fullName}</td>\r\n                  <td className=\"px-6 py-4 text-gray-600\">{l.email}</td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <span className={`text-xs px-2.5 py-1 rounded-full font-semibold ${l.status === \"New\" ? \"bg-blue-100 text-blue-700\" :\r\n                      l.status === \"Contacted\" ? \"bg-orange-100 text-orange-700\" :\r\n                        l.status === \"Won\" ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-700\"\r\n                      }`}>{l.status}</span>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {leads.length === 0 && (\r\n                <tr><td colSpan={6} className=\"px-6 py-16 text-center text-gray-600\">No leads yet. Submit a quote to see data here.</td></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5684, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/Inbox.tsx"],"sourcesContent":["import { useState, useMemo, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Search, Download } from \"lucide-react\";\r\nimport { getLeads, updateLead, type Lead } from \"@/lib/leads\";\r\n\r\ntype StatusFilter = \"All\" | \"New\" | \"Contacted\" | \"Won\" | \"Lost\";\r\ntype DateFilter = \"All\" | \"Today\" | \"7d\" | \"30d\";\r\n\r\nconst AdminInbox = () => {\r\n  const navigate = useNavigate();\r\n  const [leads, setLeads] = useState<Lead[]>([]);\r\n  useEffect(() => { getLeads().then(setLeads); }, []);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState<StatusFilter>(\"All\");\r\n  const [dateFilter, setDateFilter] = useState<DateFilter>(\"All\");\r\n  const [locFilter, setLocFilter] = useState<string>(\"All\");\r\n  const [selected, setSelected] = useState<Set<string>>(new Set());\r\n\r\n  const now = new Date();\r\n\r\n  const filtered = useMemo(() => {\r\n    return leads.filter((l) => {\r\n      if (statusFilter !== \"All\" && l.status !== statusFilter) return false;\r\n      if (locFilter !== \"All\" && !l.locationType.includes(locFilter)) return false;\r\n      if (dateFilter !== \"All\") {\r\n        const created = new Date(l.createdAt);\r\n        if (dateFilter === \"Today\" && created.toDateString() !== now.toDateString()) return false;\r\n        if (dateFilter === \"7d\" && now.getTime() - created.getTime() > 7 * 86400000) return false;\r\n        if (dateFilter === \"30d\" && now.getTime() - created.getTime() > 30 * 86400000) return false;\r\n      }\r\n      if (search) {\r\n        const q = search.toLowerCase();\r\n        return l.fullName.toLowerCase().includes(q) || l.email.toLowerCase().includes(q) || l.phone.includes(q) || l.zip.includes(q);\r\n      }\r\n      return true;\r\n    });\r\n  }, [leads, search, statusFilter, dateFilter, locFilter]);\r\n\r\n  const toggleSelect = (id: string) => {\r\n    const next = new Set(selected);\r\n    next.has(id) ? next.delete(id) : next.add(id);\r\n    setSelected(next);\r\n  };\r\n\r\n  const bulkUpdate = async (status: Lead[\"status\"]) => {\r\n    await Promise.all(Array.from(selected).map((id) => updateLead(id, { status })));\r\n    const refreshed = await getLeads();\r\n    setLeads(refreshed);\r\n    setSelected(new Set());\r\n  };\r\n\r\n  const exportCsv = () => {\r\n    const headers = \"Date,Service,ZIP,Name,Email,Phone,Status\\n\";\r\n    const rows = filtered.map((l) =>\r\n      `${l.createdAt},${l.serviceSlug},${l.zip},\"${l.fullName}\",${l.email},${l.phone},${l.status}`\r\n    ).join(\"\\n\");\r\n    const blob = new Blob([headers + rows], { type: \"text/csv\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url; a.download = \"leads.csv\"; a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const statuses: StatusFilter[] = [\"All\", \"New\", \"Contacted\", \"Won\", \"Lost\"];\r\n  const dates: DateFilter[] = [\"All\", \"Today\", \"7d\", \"30d\"];\r\n\r\n  const FilterPills = ({ items, active, onChange }: { items: string[]; active: string; onChange: (v: any) => void }) => (\r\n    <div className=\"flex gap-1.5\">\r\n      {items.map((item) => (\r\n        <button\r\n          key={item}\r\n          onClick={() => onChange(item)}\r\n          className={`px-3.5 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 ${active === item\r\n            ? \"bg-blue-600 text-white\"\r\n            : \"bg-gray-200 text-gray-700 hover:text-gray-900 hover:bg-gray-300\"\r\n            }`}\r\n        >\r\n          {item}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-7xl mx-auto\">\r\n      <div className=\"mb-8 flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Inbox</h1>\r\n          <p className=\"text-sm text-gray-600 mt-1\">Manage and track all leads</p>\r\n        </div>\r\n        <button\r\n          onClick={exportCsv}\r\n          className=\"flex items-center gap-2 px-4 py-2.5 rounded-lg border border-gray-300 text-sm text-gray-700 hover:text-gray-900 hover:border-gray-400 transition-all duration-200\"\r\n        >\r\n          <Download className=\"h-4 w-4\" /> Export CSV\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"bg-white rounded-lg border border-gray-200 p-5 mb-6 flex flex-wrap gap-4 items-center\">\r\n        <div className=\"relative flex-1 min-w-[200px]\">\r\n          <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n          <input\r\n            className=\"w-full h-10 pl-11 pr-4 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200\"\r\n            placeholder=\"Search name, email, phone, zip...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n        </div>\r\n        <FilterPills items={statuses} active={statusFilter} onChange={setStatusFilter} />\r\n        <FilterPills items={dates} active={dateFilter} onChange={setDateFilter} />\r\n        <FilterPills items={[\"All\", \"Home\", \"Business\"]} active={locFilter} onChange={setLocFilter} />\r\n      </div>\r\n\r\n      {/* Bulk actions */}\r\n      {selected.size > 0 && (\r\n        <div className=\"bg-white rounded-lg border border-blue-300 bg-blue-50 p-4 mb-4 flex items-center gap-3\">\r\n          <span className=\"text-sm font-semibold text-gray-900\">{selected.size} selected</span>\r\n          <button onClick={() => bulkUpdate(\"Contacted\")} className=\"px-3 py-1.5 rounded-lg bg-white border border-gray-300 text-xs font-medium text-gray-700 hover:bg-gray-50 transition-colors\">Mark Contacted</button>\r\n          <button onClick={() => bulkUpdate(\"Won\")} className=\"px-3 py-1.5 rounded-lg bg-white border border-gray-300 text-xs font-medium text-gray-700 hover:bg-gray-50 transition-colors\">Mark Won</button>\r\n          <button onClick={() => bulkUpdate(\"Lost\")} className=\"px-3 py-1.5 rounded-lg bg-white border border-gray-300 text-xs font-medium text-gray-700 hover:bg-gray-50 transition-colors\">Mark Lost</button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Table */}\r\n      <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead>\r\n              <tr className=\"border-b border-gray-200\">\r\n                <th className=\"px-6 py-4 w-10\">\r\n                  <input type=\"checkbox\" className=\"rounded border-gray-300\" onChange={(e) => {\r\n                    setSelected(e.target.checked ? new Set(filtered.map(l => l.id)) : new Set());\r\n                  }} />\r\n                </th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-widest\">Date</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-widest\">Service</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-widest\">ZIP</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-widest\">Name</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-widest\">Email</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-widest\">Phone</th>\r\n                <th className=\"text-left px-6 py-4 font-semibold text-gray-900 text-xs uppercase tracking-widest\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filtered.map((l) => (\r\n                <tr key={l.id} className=\"border-t border-gray-200 hover:bg-gray-50 cursor-pointer transition-colors duration-150\">\r\n                  <td className=\"px-6 py-4\" onClick={(e) => e.stopPropagation()}>\r\n                    <input type=\"checkbox\" className=\"rounded border-gray-300\" checked={selected.has(l.id)} onChange={() => toggleSelect(l.id)} />\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-gray-600\" onClick={() => navigate(`/admin/leads/${l.id}`)}>{new Date(l.createdAt).toLocaleDateString()}</td>\r\n                  <td className=\"px-6 py-4 text-gray-900 font-medium\" onClick={() => navigate(`/admin/leads/${l.id}`)}>{l.serviceSlug}</td>\r\n                  <td className=\"px-6 py-4 text-gray-600\" onClick={() => navigate(`/admin/leads/${l.id}`)}>{l.zip}</td>\r\n                  <td className=\"px-6 py-4 text-gray-900 font-semibold\" onClick={() => navigate(`/admin/leads/${l.id}`)}>{l.fullName}</td>\r\n                  <td className=\"px-6 py-4 text-gray-600\" onClick={() => navigate(`/admin/leads/${l.id}`)}>{l.email}</td>\r\n                  <td className=\"px-6 py-4 text-gray-600\" onClick={() => navigate(`/admin/leads/${l.id}`)}>{l.phone}</td>\r\n                  <td className=\"px-6 py-4\" onClick={() => navigate(`/admin/leads/${l.id}`)}>\r\n                    <span className={`text-xs px-2.5 py-1 rounded-full font-semibold ${l.status === \"New\" ? \"bg-blue-100 text-blue-700\" :\r\n                      l.status === \"Contacted\" ? \"bg-orange-100 text-orange-700\" :\r\n                        l.status === \"Won\" ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-700\"\r\n                      }`}>{l.status}</span>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {filtered.length === 0 && (\r\n                <tr><td colSpan={8} className=\"px-6 py-16 text-center text-gray-600\">No leads match your filters.</td></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminInbox;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/Analytics.tsx"],"sourcesContent":["import { useMemo, useState, useEffect } from \"react\";\r\nimport { getLeads } from \"@/lib/leads\";\r\nimport {\r\n  LineChart, Line, BarChart, Bar, PieChart, Pie, Cell,\r\n  XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend,\r\n} from \"recharts\";\r\n\r\nconst COLORS = [\"#2563eb\", \"#7c3aed\", \"#059669\", \"#0b2a4a\"];\r\n\r\ninterface ChartDataPoint {\r\n  date: string;\r\n  count: number;\r\n}\r\n\r\ninterface ServiceDataPoint {\r\n  name: string;\r\n  count: number;\r\n}\r\n\r\ninterface LocationDataPoint {\r\n  name: string;\r\n  value: number;\r\n}\r\n\r\nconst Analytics = () => {\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  try {\r\n    const leads = useMemo(() => {\r\n      try {\r\n        const data = getLeads();\r\n        return Array.isArray(data) ? data : [];\r\n      } catch {\r\n        return [];\r\n      }\r\n    }, []);\r\n\r\n    const now = new Date();\r\n\r\n    const dailyData: ChartDataPoint[] = useMemo(() => {\r\n      try {\r\n        const days: Record<string, number> = {};\r\n        for (let i = 29; i >= 0; i--) {\r\n          const d = new Date(now.getTime() - i * 86400000).toISOString().slice(0, 10);\r\n          days[d] = 0;\r\n        }\r\n        leads.forEach((l) => {\r\n          try {\r\n            const d = l.createdAt?.slice(0, 10);\r\n            if (d && days[d] !== undefined) days[d]++;\r\n          } catch {\r\n            // Skip malformed lead\r\n          }\r\n        });\r\n        return Object.entries(days).map(([date, count]) => ({ date: date.slice(5), count }));\r\n      } catch {\r\n        return [];\r\n      }\r\n    }, [leads]);\r\n\r\n    const serviceData: ServiceDataPoint[] = useMemo(() => {\r\n      try {\r\n        const map: Record<string, number> = {};\r\n        leads.forEach((l) => {\r\n          try {\r\n            const slug = l.serviceSlug || \"unknown\";\r\n            map[slug] = (map[slug] || 0) + 1;\r\n          } catch {\r\n            // Skip malformed lead\r\n          }\r\n        });\r\n        return Object.entries(map)\r\n          .sort((a, b) => b[1] - a[1])\r\n          .slice(0, 10)\r\n          .map(([name, count]) => ({ name, count }));\r\n      } catch {\r\n        return [];\r\n      }\r\n    }, [leads]);\r\n\r\n    const locationData: LocationDataPoint[] = useMemo(() => {\r\n      try {\r\n        let home = 0, biz = 0;\r\n        leads.forEach((l) => {\r\n          try {\r\n            const locationType = l.locationType || \"\";\r\n            if (locationType.includes(\"Home\")) home++;\r\n            else if (locationType.includes(\"Business\")) biz++;\r\n          } catch {\r\n            // Skip malformed lead\r\n          }\r\n        });\r\n        return [\r\n          { name: \"Home\", value: home },\r\n          { name: \"Business\", value: biz },\r\n        ].filter((d) => d.value > 0);\r\n      } catch {\r\n        return [];\r\n      }\r\n    }, [leads]);\r\n\r\n    if (leads.length === 0) {\r\n      return (\r\n        <div className=\"p-8 max-w-7xl mx-auto\">\r\n          <h1 className=\"text-2xl font-bold mb-8 text-gray-900\">Analytics</h1>\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-12 text-center\">\r\n            <div className=\"text-gray-500 mb-4\">\r\n              <svg className=\"h-12 w-12 mx-auto mb-3 opacity-40\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n              </svg>\r\n              <p className=\"text-sm font-medium text-gray-900\">No data available yet</p>\r\n              <p className=\"text-xs text-gray-600 mt-1\">Submit quotes to see analytics here</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"p-8 max-w-7xl mx-auto\">\r\n        <h1 className=\"text-2xl font-bold mb-8 text-gray-900\">Analytics</h1>\r\n\r\n        {/* Charts Grid */}\r\n        <div className=\"grid lg:grid-cols-2 gap-6 mb-8\">\r\n          {/* Daily Leads */}\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-6\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Leads per Day (30 days)</h3>\r\n            {dailyData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={dailyData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                  <XAxis dataKey=\"date\" tick={{ fontSize: 12, fill: \"#6b7280\" }} />\r\n                  <YAxis allowDecimals={false} tick={{ fontSize: 12, fill: \"#6b7280\" }} />\r\n                  <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n                  <Line type=\"monotone\" dataKey=\"count\" stroke=\"#2563eb\" strokeWidth={2} dot={false} />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <div className=\"h-[300px] flex items-center justify-center text-gray-500\">\r\n                <p className=\"text-sm\">No data available</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Top Services */}\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-6\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Top Services</h3>\r\n            {serviceData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <BarChart data={serviceData} layout=\"vertical\">\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                  <XAxis type=\"number\" allowDecimals={false} tick={{ fontSize: 12, fill: \"#6b7280\" }} />\r\n                  <YAxis type=\"category\" dataKey=\"name\" width={120} tick={{ fontSize: 12, fill: \"#6b7280\" }} />\r\n                  <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n                  <Bar dataKey=\"count\" fill=\"#2563eb\" radius={[0, 6, 6, 0]} />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <div className=\"h-[300px] flex items-center justify-center text-gray-500\">\r\n                <p className=\"text-sm\">No data available</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Location Breakdown */}\r\n        {locationData.length > 0 && (\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-6 mb-8 max-w-md\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Location Type</h3>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie data={locationData} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={70} innerRadius={40} label>\r\n                  {locationData.map((_, i) => (\r\n                    <Cell key={i} fill={COLORS[i % COLORS.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n                <Legend />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Analytics error:\", error);\r\n    return (\r\n      <div className=\"p-8 max-w-7xl mx-auto\">\r\n        <h1 className=\"text-2xl font-bold mb-8 text-gray-900\">Analytics</h1>\r\n        <div className=\"bg-white rounded-2xl border border-gray-200 p-8 text-center\">\r\n          <p className=\"text-gray-600 text-sm\">Unable to load analytics. Please refresh the page.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Analytics;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6736, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/LeadDetail.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { ArrowLeft, Clock, Save, FileText } from \"lucide-react\";\r\nimport { getLeadById, updateLead, type Lead } from \"@/lib/leads\";\r\n\r\nconst statuses: Lead[\"status\"][] = [\"New\", \"Contacted\", \"Estimate Sent\", \"Approved\", \"Closed\"];\r\n\r\nconst LeadDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [lead, setLead] = useState<Lead | null>(null);\r\n  const [notes, setNotes] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    getLeadById(id || \"\").then((l) => {\r\n      if (l) { setLead(l); setNotes(l.ownerNotes); }\r\n    });\r\n  }, [id]);\r\n\r\n  if (!lead) return (\r\n    <div className=\"p-8 text-center\">\r\n      <p className=\"text-gray-600\">Lead not found.</p>\r\n      <button onClick={() => navigate(\"/admin/inbox\")} className=\"mt-4 px-5 py-2.5 rounded-lg border border-gray-300 text-sm text-gray-700 hover:bg-gray-50 transition-colors\">Back to Inbox</button>\r\n    </div>\r\n  );\r\n\r\n  const changeStatus = async (status: Lead[\"status\"]) => {\r\n    const updated = await updateLead(lead.id, { status });\r\n    if (updated) setLead(updated);\r\n  };\r\n\r\n  const saveNotes = async () => {\r\n    const updated = await updateLead(lead.id, { ownerNotes: notes });\r\n    if (updated) setLead(updated);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-4xl mx-auto\">\r\n      <button onClick={() => navigate(\"/admin/inbox\")} className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 mb-8 transition-colors\">\r\n        <ArrowLeft className=\"h-4 w-4\" /> Back to Inbox\r\n      </button>\r\n\r\n      <div className=\"bg-white rounded-xl border border-gray-200 p-7 mb-6\">\r\n        <div className=\"flex items-start justify-between mb-8\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900 tracking-tight\">{lead.fullName}</h1>\r\n            <p className=\"text-sm text-gray-600 mt-2\">{lead.serviceSlug} · {lead.zip}</p>\r\n            <button\r\n              onClick={() => navigate(`/admin/estimates/new?leadId=${lead.id}`)}\r\n              className=\"mt-4 flex items-center gap-2 text-xs font-bold text-blue-600 hover:text-blue-700 bg-blue-50 px-3 py-1.5 rounded-lg transition-colors border border-blue-100\"\r\n            >\r\n              <FileText className=\"h-3.5 w-3.5\" />\r\n              Convert to Estimate\r\n            </button>\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {statuses.map((s) => (\r\n              <button\r\n                key={s}\r\n                onClick={() => changeStatus(s)}\r\n                className={`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider transition-all duration-200 ${lead.status === s\r\n                  ? s === \"New\" ? \"bg-blue-600 text-white shadow-md shadow-blue-500/20\" :\r\n                    s === \"Contacted\" ? \"bg-orange-500 text-white shadow-md shadow-orange-500/20\" :\r\n                      s === \"Estimate Sent\" ? \"bg-purple-600 text-white shadow-md shadow-purple-500/20\" :\r\n                        s === \"Approved\" ? \"bg-green-600 text-white shadow-md shadow-green-500/20\" :\r\n                          \"bg-gray-800 text-white shadow-md shadow-gray-500/20\"\r\n                  : \"bg-gray-100 text-gray-500 hover:text-gray-900 hover:bg-gray-200\"\r\n                  }`}\r\n              >{s}</button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid md:grid-cols-2 gap-6 text-sm\">\r\n          {[\r\n            { label: \"Service\", value: lead.selectedServiceOption },\r\n            lead.subtype ? { label: \"Subtype\", value: lead.subtype } : null,\r\n            { label: \"Location Type\", value: lead.locationType },\r\n            { label: \"Email\", value: lead.email },\r\n            { label: \"Phone\", value: lead.phone },\r\n            { label: \"Address\", value: lead.address },\r\n          ].filter(Boolean).map((item) => (\r\n            <div key={item!.label} className=\"pb-4 border-b border-gray-200\">\r\n              <span className=\"text-gray-600 text-xs font-semibold uppercase tracking-widest block mb-1\">{item!.label}</span>\r\n              <span className=\"text-gray-900 font-medium\">{item!.value}</span>\r\n            </div>\r\n          ))}\r\n\r\n          {lead.details && (\r\n            <div className=\"md:col-span-2 pb-4 border-b border-gray-200\">\r\n              <span className=\"text-gray-600 text-xs font-semibold uppercase tracking-widest block mb-2\">Details</span>\r\n              <p className=\"text-gray-900 leading-relaxed\">{lead.details}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Media Files */}\r\n          {lead.media_urls && lead.media_urls.length > 0 && (\r\n            <div className=\"md:col-span-2 pb-4 border-b border-gray-200\">\r\n              <span className=\"text-gray-600 text-xs font-semibold uppercase tracking-widest block mb-4\">Media Files</span>\r\n              <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\r\n                {lead.media_urls.map((url, i) => (\r\n                  <a\r\n                    key={i}\r\n                    href={url}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"aspect-square rounded-lg overflow-hidden border border-gray-100 group relative\"\r\n                  >\r\n                    {url.match(/\\.(mp4|webm|ogg|mov)$|^.*video.*$/i) ? (\r\n                      <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\r\n                        <Clock className=\"h-6 w-6 text-gray-400\" />\r\n                        <span className=\"absolute bottom-2 left-2 text-[10px] bg-black/60 text-white px-1.5 py-0.5 rounded\">VIDEO</span>\r\n                      </div>\r\n                    ) : (\r\n                      <img src={url} alt={`Lead file ${i + 1}`} className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110\" />\r\n                    )}\r\n                  </a>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {lead.selectedPros.length > 0 && (\r\n            <div className=\"md:col-span-2\">\r\n              <span className=\"text-gray-600 text-xs font-semibold uppercase tracking-widest block mb-2\">Selected Professionals</span>\r\n              <span className=\"text-gray-900 font-medium\">{lead.selectedPros.join(\", \")}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Notes */}\r\n      <div className=\"bg-white rounded-xl border border-gray-200 p-7 mb-6\">\r\n        <h3 className=\"font-semibold text-sm text-gray-900 mb-4\">Owner Notes</h3>\r\n        <textarea\r\n          value={notes}\r\n          onChange={(e) => setNotes(e.target.value)}\r\n          rows={4}\r\n          placeholder=\"Add notes about this lead...\"\r\n          className=\"w-full p-4 bg-gray-50 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 resize-none\"\r\n        />\r\n        <button onClick={saveNotes} className=\"mt-3 flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-all duration-200\">\r\n          <Save className=\"h-3.5 w-3.5\" /> Save Notes\r\n        </button>\r\n      </div>\r\n\r\n      {/* Timeline */}\r\n      <div className=\"bg-white rounded-xl border border-gray-200 p-7\">\r\n        <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Timeline</h3>\r\n        <div className=\"space-y-4\">\r\n          {lead.statusHistory.map((entry, i) => (\r\n            <div key={i} className=\"flex items-center gap-3 text-sm\">\r\n              <div className=\"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center shrink-0\">\r\n                <Clock className=\"h-3.5 w-3.5 text-blue-600\" />\r\n              </div>\r\n              <span className=\"text-gray-600\">{new Date(entry.timestamp).toLocaleString()}</span>\r\n              <span className=\"font-semibold text-gray-900\">→ {entry.status}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeadDetail;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/Settings.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { fetchAdminSession } from \"@/lib/admin-auth\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { useToast } from \"@/components/ui/use-toast\";\r\nimport {\r\n  defaultSiteSettings,\r\n  fetchSiteSettingsAdmin,\r\n  saveSiteSettingsAdmin,\r\n  type SiteSettings,\r\n} from \"@/lib/site-settings\";\r\n\r\nconst useAdminEmail = () => {\r\n  const [email, setEmail] = useState<string>(\"Loading...\");\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    fetchAdminSession()\r\n      .then((session) => {\r\n        if (!active) return;\r\n        setEmail(session?.email || \"Unknown\");\r\n      })\r\n      .catch(() => {\r\n        if (!active) return;\r\n        setEmail(\"Unavailable\");\r\n      });\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, []);\r\n\r\n  return email;\r\n};\r\n\r\nconst AdminSettings = () => {\r\n  const adminEmail = useAdminEmail();\r\n  const location = useLocation();\r\n  const { toast } = useToast();\r\n  const [settings, setSettings] = useState<SiteSettings>(defaultSiteSettings);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  const tabFromQuery = useMemo(() => {\r\n    const params = new URLSearchParams(location.search);\r\n    const tab = params.get(\"tab\") || \"general\";\r\n    if (tab === \"maps\" || tab === \"areas\" || tab === \"general\") return tab;\r\n    return \"general\";\r\n  }, [location.search]);\r\n\r\n  const [activeTab, setActiveTab] = useState(tabFromQuery);\r\n\r\n  useEffect(() => {\r\n    setActiveTab(tabFromQuery);\r\n  }, [tabFromQuery]);\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    fetchSiteSettingsAdmin()\r\n      .then((data) => {\r\n        if (!active) return;\r\n        setSettings(data);\r\n      })\r\n      .catch(() => {\r\n        if (!active) return;\r\n        setSettings(defaultSiteSettings);\r\n      })\r\n      .finally(() => {\r\n        if (active) setIsLoading(false);\r\n      });\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, []);\r\n\r\n  const directionsPreview = useMemo(() => {\r\n    const source = settings.mapsQuery || settings.businessAddress;\r\n    const encoded = encodeURIComponent(source);\r\n    if (settings.directionsUrl && settings.directionsUrl.trim().length > 0) {\r\n      return settings.directionsUrl.trim();\r\n    }\r\n    return `https://www.google.com/maps/search/?api=1&query=${encoded}`;\r\n  }, [settings.mapsQuery, settings.businessAddress, settings.directionsUrl]);\r\n\r\n  const updateServiceArea = (index: number, value: string) => {\r\n    setSettings((prev) => {\r\n      const next = [...prev.serviceAreas];\r\n      while (next.length < 10) next.push(\"\");\r\n      next[index] = value;\r\n      return { ...prev, serviceAreas: next.slice(0, 10) };\r\n    });\r\n  };\r\n\r\n  const handleSave = async (payload: SiteSettings) => {\r\n    setIsSaving(true);\r\n    try {\r\n      const saved = await saveSiteSettingsAdmin(payload);\r\n      setSettings(saved);\r\n      toast({ title: \"Saved\", description: \"Site settings updated.\" });\r\n    } catch (error) {\r\n      toast({ title: \"Save failed\", description: \"Please try again.\", variant: \"destructive\" });\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-4xl mx-auto\">\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Settings</h1>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Configure your admin preferences</p>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\r\n        <TabsList className=\"bg-white border border-gray-200 rounded-lg p-1\">\r\n          <TabsTrigger value=\"general\">General</TabsTrigger>\r\n          <TabsTrigger value=\"maps\">Maps</TabsTrigger>\r\n          <TabsTrigger value=\"areas\">Service Areas</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"general\" className=\"space-y-6\">\r\n          <div className=\"bg-white rounded-xl border border-gray-200 p-7\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-5\">Owner Account</h3>\r\n            <div className=\"py-3 border-b border-gray-200\">\r\n              <span className=\"text-gray-600 text-xs font-semibold uppercase tracking-widest block mb-1\">Admin Email</span>\r\n              <span className=\"text-gray-900 font-medium\">{adminEmail}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl border border-gray-200 p-7\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-5\">Notifications</h3>\r\n            <label className=\"flex items-center gap-3 text-sm cursor-pointer\">\r\n              <input type=\"checkbox\" defaultChecked className=\"rounded border-gray-300\" />\r\n              <span className=\"text-gray-900\">Email notifications for new leads</span>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl border border-gray-200 p-7\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-3\">Webhook (CRM Integration)</h3>\r\n            <p className=\"text-xs text-gray-600 mb-4\">\r\n              Forward new leads to an external CRM by providing a webhook URL.\r\n            </p>\r\n            <input\r\n              type=\"url\"\r\n              placeholder=\"https://your-crm.com/webhook\"\r\n              className=\"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-3\">\r\n              Enable Lovable Cloud for real-time webhook delivery.\r\n            </p>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"maps\" className=\"space-y-6\">\r\n          <div className=\"bg-white rounded-xl border border-gray-200 p-7\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-1\">Maps</h3>\r\n            <p className=\"text-xs text-gray-600 mb-6\">Update contact and map settings for the Service Areas section.</p>\r\n\r\n            <div className=\"grid gap-5\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"contactEmail\">Contact Email</Label>\r\n                <Input\r\n                  id=\"contactEmail\"\r\n                  type=\"email\"\r\n                  value={settings.contactEmail}\r\n                  onChange={(e) => setSettings({ ...settings, contactEmail: e.target.value })}\r\n                  placeholder=\"contact@barrigudo.com\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"businessAddress\">Business Address</Label>\r\n                <Input\r\n                  id=\"businessAddress\"\r\n                  value={settings.businessAddress}\r\n                  onChange={(e) => setSettings({ ...settings, businessAddress: e.target.value })}\r\n                  placeholder=\"Boston, Massachusetts\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"mapsQuery\">Map Query</Label>\r\n                <Input\r\n                  id=\"mapsQuery\"\r\n                  value={settings.mapsQuery}\r\n                  onChange={(e) => setSettings({ ...settings, mapsQuery: e.target.value })}\r\n                  placeholder=\"Extreme Pro Construction Services, Lowell MA\"\r\n                />\r\n                <p className=\"text-xs text-gray-500\">Used by the embedded map and Directions button.</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"directionsUrl\">Directions URL (optional)</Label>\r\n                <Input\r\n                  id=\"directionsUrl\"\r\n                  value={settings.directionsUrl || \"\"}\r\n                  onChange={(e) => setSettings({ ...settings, directionsUrl: e.target.value })}\r\n                  placeholder=\"Leave empty to auto-generate\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"rounded-lg border border-gray-200 bg-gray-50 p-4\">\r\n                <p className=\"text-xs text-gray-600 mb-2\">Directions Preview</p>\r\n                <a\r\n                  href={directionsPreview}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"text-sm text-blue-600 hover:underline break-all\"\r\n                >\r\n                  {directionsPreview}\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pt-6\">\r\n              <button\r\n                onClick={() => handleSave(settings)}\r\n                disabled={isSaving || isLoading}\r\n                className=\"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white font-semibold rounded-full hover:bg-primary/90 transition-all duration-200 disabled:opacity-60\"\r\n              >\r\n                {isSaving ? \"Saving...\" : \"Save\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"areas\" className=\"space-y-6\">\r\n          <div className=\"bg-white rounded-xl border border-gray-200 p-7\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-1\">Service Areas</h3>\r\n            <p className=\"text-xs text-gray-600 mb-6\">Edit the 10 primary service areas shown on the homepage.</p>\r\n\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              {Array.from({ length: 10 }).map((_, index) => (\r\n                <div key={`area-${index}`} className=\"space-y-2\">\r\n                  <Label htmlFor={`area-${index}`}>Area {index + 1}</Label>\r\n                  <Input\r\n                    id={`area-${index}`}\r\n                    value={settings.serviceAreas[index] || \"\"}\r\n                    onChange={(e) => updateServiceArea(index, e.target.value)}\r\n                    placeholder={`Service area ${index + 1}`}\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"pt-6\">\r\n              <button\r\n                onClick={() => handleSave(settings)}\r\n                disabled={isSaving || isLoading}\r\n                className=\"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white font-semibold rounded-full hover:bg-primary/90 transition-all duration-200 disabled:opacity-60\"\r\n              >\r\n                {isSaving ? \"Saving...\" : \"Save\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSettings;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7859, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/Portfolio.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { Save, Plus, Trash2, Image as ImageIcon } from \"lucide-react\";\r\nimport type { PortfolioData, PortfolioItem } from \"@/lib/portfolio-types\";\r\nimport { fetchPortfolioAdmin, savePortfolioAdmin } from \"@/lib/portfolio-api\";\r\n\r\nconst createEmptyItem = (categories: string[]): PortfolioItem => {\r\n  const baseCategory = categories[0] || \"Remodeling\";\r\n  const fallbackId = `project-${Date.now()}`;\r\n  return {\r\n    id: fallbackId,\r\n    title: \"New Project\",\r\n    category: baseCategory,\r\n    coverImage: \"\",\r\n    images: [],\r\n    tags: [],\r\n    description: \"\",\r\n    highlights: [],\r\n    materials: [],\r\n    timeline: [],\r\n    scope: \"\",\r\n    featured: false,\r\n  };\r\n};\r\n\r\nconst toList = (value: string) =>\r\n  value\r\n    .split(\",\")\r\n    .map((item) => item.trim())\r\n    .filter(Boolean);\r\n\r\nconst toText = (list: string[]) => list.join(\", \");\r\n\r\nconst AdminPortfolio = () => {\r\n  const [data, setData] = useState<PortfolioData | null>(null);\r\n  const [activeId, setActiveId] = useState<string | null>(null);\r\n  const [categoryInput, setCategoryInput] = useState(\"\");\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [status, setStatus] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    fetchPortfolioAdmin()\r\n      .then((payload) => {\r\n        if (!active) return;\r\n        setData(payload);\r\n        setCategoryInput(payload.categories.join(\", \"));\r\n        setActiveId(payload.items[0]?.id || null);\r\n      })\r\n      .catch(() => {\r\n        if (!active) return;\r\n        setStatus(\"Unable to load portfolio data.\");\r\n      });\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, []);\r\n\r\n  const items = data?.items || [];\r\n  const activeItem = useMemo(\r\n    () => items.find((item) => item.id === activeId) || null,\r\n    [items, activeId]\r\n  );\r\n\r\n  const updateItem = (patch: Partial<PortfolioItem>) => {\r\n    if (!data || !activeItem) return;\r\n    setData({\r\n      ...data,\r\n      items: data.items.map((item) =>\r\n        item.id === activeItem.id ? { ...item, ...patch } : item\r\n      ),\r\n    });\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    if (!data) return;\r\n    const next = createEmptyItem(data.categories);\r\n    setData({ ...data, items: [next, ...data.items] });\r\n    setActiveId(next.id);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    if (!data || !activeItem) return;\r\n    const nextItems = data.items.filter((item) => item.id !== activeItem.id);\r\n    setData({ ...data, items: nextItems });\r\n    setActiveId(nextItems[0]?.id || null);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!data) return;\r\n    setIsSaving(true);\r\n    setStatus(null);\r\n    try {\r\n      const normalized = {\r\n        ...data,\r\n        categories: toList(categoryInput),\r\n      };\r\n      const saved = await savePortfolioAdmin(normalized);\r\n      setData(saved);\r\n      setCategoryInput(saved.categories.join(\", \"));\r\n      setStatus(\"Saved successfully.\");\r\n    } catch (error) {\r\n      setStatus(\"Save failed. Please try again.\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-6xl mx-auto\">\r\n      <div className=\"flex flex-wrap items-center justify-between gap-4 mb-8\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Portfolio</h1>\r\n          <p className=\"text-sm text-gray-600 mt-1\">Manage projects, categories, and featured content.</p>\r\n        </div>\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={handleAdd}\r\n            className=\"inline-flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-700 hover:border-gray-300\"\r\n          >\r\n            <Plus className=\"h-4 w-4\" /> New Project\r\n          </button>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={!data || isSaving}\r\n            className=\"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700 disabled:opacity-60\"\r\n          >\r\n            <Save className=\"h-4 w-4\" /> {isSaving ? \"Saving\" : \"Save Changes\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {status && (\r\n        <div className=\"mb-6 rounded-lg border border-gray-200 bg-white px-4 py-3 text-sm text-gray-700\">\r\n          {status}\r\n        </div>\r\n      )}\r\n\r\n      {!data ? (\r\n        <div className=\"rounded-2xl border border-gray-200 bg-white p-8 text-sm text-gray-600\">Loading portfolio data...</div>\r\n      ) : (\r\n        <div className=\"grid gap-6 lg:grid-cols-[280px_1fr]\">\r\n          <div className=\"rounded-2xl border border-gray-200 bg-white p-4\">\r\n            <div className=\"mb-4 text-xs font-semibold uppercase tracking-widest text-gray-500\">Projects</div>\r\n            <div className=\"space-y-2\">\r\n              {items.map((item) => (\r\n                <button\r\n                  key={item.id}\r\n                  onClick={() => setActiveId(item.id)}\r\n                  className={`w-full rounded-lg border px-3 py-2 text-left text-sm transition-all ${\r\n                    activeId === item.id\r\n                      ? \"border-blue-600 bg-blue-50 text-blue-900\"\r\n                      : \"border-gray-200 text-gray-700 hover:border-gray-300\"\r\n                  }`}\r\n                >\r\n                  <div className=\"font-semibold text-gray-900\">{item.title || \"Untitled\"}</div>\r\n                  <div className=\"text-xs text-gray-500\">{item.category || \"Uncategorized\"}</div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"rounded-2xl border border-gray-200 bg-white p-6\">\r\n            {!activeItem ? (\r\n              <div className=\"text-sm text-gray-600\">Select a project to edit.</div>\r\n            ) : (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"grid gap-4 md:grid-cols-2\">\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    Title\r\n                    <input\r\n                      value={activeItem.title}\r\n                      onChange={(event) => updateItem({ title: event.target.value })}\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    Category\r\n                    <input\r\n                      value={activeItem.category}\r\n                      onChange={(event) => updateItem({ category: event.target.value })}\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <label className=\"text-sm text-gray-700\">\r\n                  Cover Image URL\r\n                  <input\r\n                    value={activeItem.coverImage}\r\n                    onChange={(event) => updateItem({ coverImage: event.target.value })}\r\n                    className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    placeholder=\"/images/cover.jpg\"\r\n                  />\r\n                </label>\r\n\r\n                <label className=\"text-sm text-gray-700\">\r\n                  Image Gallery URLs (comma separated)\r\n                  <textarea\r\n                    rows={3}\r\n                    value={toText(activeItem.images)}\r\n                    onChange={(event) => updateItem({ images: toList(event.target.value) })}\r\n                    className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                  />\r\n                </label>\r\n\r\n                <div className=\"grid gap-4 md:grid-cols-2\">\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    Tags (comma separated)\r\n                    <input\r\n                      value={toText(activeItem.tags)}\r\n                      onChange={(event) => updateItem({ tags: toList(event.target.value) })}\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    Scope\r\n                    <input\r\n                      value={activeItem.scope}\r\n                      onChange={(event) => updateItem({ scope: event.target.value })}\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <label className=\"text-sm text-gray-700\">\r\n                  Description\r\n                  <textarea\r\n                    rows={3}\r\n                    value={activeItem.description}\r\n                    onChange={(event) => updateItem({ description: event.target.value })}\r\n                    className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                  />\r\n                </label>\r\n\r\n                <div className=\"grid gap-4 md:grid-cols-3\">\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    Highlights\r\n                    <textarea\r\n                      rows={3}\r\n                      value={toText(activeItem.highlights)}\r\n                      onChange={(event) => updateItem({ highlights: toList(event.target.value) })}\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    Materials\r\n                    <textarea\r\n                      rows={3}\r\n                      value={toText(activeItem.materials)}\r\n                      onChange={(event) => updateItem({ materials: toList(event.target.value) })}\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    Timeline\r\n                    <textarea\r\n                      rows={3}\r\n                      value={toText(activeItem.timeline)}\r\n                      onChange={(event) => updateItem({ timeline: toList(event.target.value) })}\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"grid gap-4 md:grid-cols-2\">\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    Before Image URL\r\n                    <input\r\n                      value={activeItem.beforeAfter?.before || \"\"}\r\n                      onChange={(event) =>\r\n                        updateItem({\r\n                          beforeAfter: {\r\n                            before: event.target.value,\r\n                            after: activeItem.beforeAfter?.after || \"\",\r\n                          },\r\n                        })\r\n                      }\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                  <label className=\"text-sm text-gray-700\">\r\n                    After Image URL\r\n                    <input\r\n                      value={activeItem.beforeAfter?.after || \"\"}\r\n                      onChange={(event) =>\r\n                        updateItem({\r\n                          beforeAfter: {\r\n                            before: activeItem.beforeAfter?.before || \"\",\r\n                            after: event.target.value,\r\n                          },\r\n                        })\r\n                      }\r\n                      className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-6\">\r\n                  <label className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={Boolean(activeItem.featured)}\r\n                      onChange={(event) => updateItem({ featured: event.target.checked })}\r\n                    />\r\n                    Featured project\r\n                  </label>\r\n                  <button\r\n                    onClick={handleDelete}\r\n                    className=\"inline-flex items-center gap-2 text-sm text-red-600 hover:text-red-700\"\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" /> Delete project\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"rounded-xl border border-dashed border-gray-200 p-4 text-xs text-gray-500\">\r\n                  <div className=\"flex items-center gap-2 font-semibold text-gray-600\">\r\n                    <ImageIcon className=\"h-4 w-4\" /> Image tips\r\n                  </div>\r\n                  <p className=\"mt-2\">\r\n                    Use absolute paths from /public or full URLs. Keep image sizes consistent for the best layout.\r\n                  </p>\r\n                </div>\r\n\r\n                <label className=\"text-sm text-gray-700\">\r\n                  Categories (comma separated)\r\n                  <input\r\n                    value={categoryInput}\r\n                    onChange={(event) => {\r\n                      setCategoryInput(event.target.value);\r\n                      if (!data) return;\r\n                      setData({ ...data, categories: toList(event.target.value) });\r\n                    }}\r\n                    className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm\"\r\n                  />\r\n                </label>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPortfolio;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8570, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/Reviews.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Star, Eye, EyeOff, Trash2, Search, Filter } from \"lucide-react\";\r\nimport { reviewsService } from \"@/lib/reviewsService\";\r\nimport { Review } from \"@/types/reviews\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst AdminReviews = () => {\r\n    const [reviews, setReviews] = useState<Review[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [filter, setFilter] = useState<\"all\" | \"visible\" | \"hidden\">(\"all\");\r\n\r\n    const loadReviews = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const data = await reviewsService.getReviews({ limit: 100, includeHidden: true });\r\n            setReviews(data);\r\n        } catch (error) {\r\n            toast.error(\"Failed to load reviews\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadReviews();\r\n    }, []);\r\n\r\n    const toggleVisibility = async (id: string, currentHidden: boolean) => {\r\n        try {\r\n            await reviewsService.toggleReviewVisibility(id, !currentHidden);\r\n            toast.success(currentHidden ? \"Review published\" : \"Review hidden\");\r\n            loadReviews();\r\n        } catch (error) {\r\n            toast.error(\"Action failed\");\r\n        }\r\n    };\r\n\r\n    const deleteReview = async (id: string) => {\r\n        if (!confirm(\"Are you sure you want to delete this review?\")) return;\r\n        try {\r\n            await reviewsService.deleteReview(id);\r\n            toast.success(\"Review deleted\");\r\n            loadReviews();\r\n        } catch (error) {\r\n            toast.error(\"Delete failed\");\r\n        }\r\n    };\r\n\r\n    const filteredReviews = reviews.filter((r) => {\r\n        const matchesSearch = r.userName.toLowerCase().includes(search.toLowerCase()) ||\r\n            r.body.toLowerCase().includes(search.toLowerCase());\r\n        const matchesFilter = filter === \"all\" ||\r\n            (filter === \"visible\" && !r.isHidden) ||\r\n            (filter === \"hidden\" && r.isHidden);\r\n        return matchesSearch && matchesFilter;\r\n    });\r\n\r\n    return (\r\n        <div className=\"p-8 max-w-7xl mx-auto\">\r\n            <div className=\"mb-8\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900 font-outfit\">Review Moderation</h1>\r\n                <p className=\"text-sm text-gray-600 mt-1\">Manage, approve, or hide customer reviews.</p>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-xl border border-gray-200 p-5 mb-6 flex flex-wrap gap-4 items-center shadow-sm\">\r\n                <div className=\"relative flex-1 min-w-[250px]\">\r\n                    <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                    <input\r\n                        className=\"w-full h-10 pl-11 pr-4 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200\"\r\n                        placeholder=\"Search by name or content...\"\r\n                        value={search}\r\n                        onChange={(e) => setSearch(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex bg-gray-100 p-1 rounded-lg\">\r\n                    {([\"all\", \"visible\", \"hidden\"] as const).map((f) => (\r\n                        <button\r\n                            key={f}\r\n                            onClick={() => setFilter(f)}\r\n                            className={`px-4 py-1.5 rounded-md text-xs font-semibold capitalize transition-all ${filter === f ? \"bg-white text-gray-900 shadow-sm\" : \"text-gray-500 hover:text-gray-700\"\r\n                                }`}\r\n                        >\r\n                            {f}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <div className=\"flex justify-center py-20\">\r\n                    <div className=\"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full\" />\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid gap-4\">\r\n                    {filteredReviews.map((review) => (\r\n                        <div\r\n                            key={review.id}\r\n                            className={`bg-white p-6 rounded-xl border transition-all duration-200 shadow-sm flex flex-col md:flex-row gap-6 items-start ${review.isHidden ? \"opacity-75 border-gray-200 grayscale-[0.5]\" : \"border-gray-200 hover:border-gray-300\"\r\n                                }`}\r\n                        >\r\n                            <div className=\"flex-1\">\r\n                                <div className=\"flex items-center gap-3 mb-2\">\r\n                                    <div className=\"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden shrink-0 border border-gray-100\">\r\n                                        {review.userAvatarUrl ? (\r\n                                            <img src={review.userAvatarUrl} alt={review.userName} className=\"h-full w-full object-cover\" />\r\n                                        ) : (\r\n                                            <span className=\"text-gray-400 font-bold\">{review.userName[0]}</span>\r\n                                        )}\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-gray-900 font-outfit\">{review.userName}</h3>\r\n                                        <div className=\"flex gap-0.5\">\r\n                                            {[1, 2, 3, 4, 5].map((s) => (\r\n                                                <Star key={s} className={`h-3 w-3 ${s <= review.rating ? \"fill-yellow-400 text-yellow-400\" : \"text-gray-300\"}`} />\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className=\"ml-auto text-xs text-gray-400\">\r\n                                        {new Date(review.createdAt).toLocaleDateString()}\r\n                                    </span>\r\n                                </div>\r\n                                <p className=\"text-gray-600 text-sm italic leading-relaxed\">\"{review.body}\"</p>\r\n                                {review.isHidden && (\r\n                                    <span className=\"inline-flex items-center gap-1 mt-3 px-2 py-0.5 rounded bg-gray-100 text-[10px] font-bold text-gray-500 uppercase tracking-wider\">\r\n                                        <EyeOff className=\"h-2.5 w-2.5\" /> Hidden from Public\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"flex md:flex-col gap-2 shrink-0 self-center md:self-start\">\r\n                                <button\r\n                                    onClick={() => toggleVisibility(review.id, !!review.isHidden)}\r\n                                    className={`flex items-center justify-center h-10 w-10 rounded-lg transition-all duration-200 ${review.isHidden\r\n                                            ? \"bg-green-50 text-green-600 hover:bg-green-100\"\r\n                                            : \"bg-gray-50 text-gray-600 hover:bg-gray-100\"\r\n                                        }`}\r\n                                    title={review.isHidden ? \"Publish\" : \"Hide\"}\r\n                                >\r\n                                    {review.isHidden ? <Eye className=\"h-5 w-5\" /> : <EyeOff className=\"h-5 w-5\" />}\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => deleteReview(review.id)}\r\n                                    className=\"flex items-center justify-center h-10 w-10 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-all duration-200\"\r\n                                    title=\"Delete\"\r\n                                >\r\n                                    <Trash2 className=\"h-5 w-5\" />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {filteredReviews.length === 0 && (\r\n                        <div className=\"text-center py-20 bg-gray-50 rounded-xl border border-dashed border-gray-300\">\r\n                            <Filter className=\"h-10 w-10 text-gray-300 mx-auto mb-3\" />\r\n                            <p className=\"text-gray-500 font-medium\">No reviews found matching your criteria.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminReviews;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8946, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/EstimatesList.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Plus, Search, FileText, Calendar, User, Clock } from \"lucide-react\";\r\nimport { getEstimates, Estimate } from \"@/lib/estimates\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\nconst EstimatesList = () => {\r\n    const [estimates, setEstimates] = useState<Estimate[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        loadEstimates();\r\n    }, []);\r\n\r\n    const loadEstimates = async () => {\r\n        setIsLoading(true);\r\n        const data = await getEstimates();\r\n        setEstimates(data);\r\n        setIsLoading(false);\r\n    };\r\n\r\n    const filteredEstimates = estimates.filter(est =>\r\n        est.client_name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    const getStatusColor = (status: string) => {\r\n        switch (status) {\r\n            case 'Approved': return 'bg-green-100 text-green-700 border-green-200';\r\n            case 'Sent': return 'bg-blue-100 text-blue-700 border-blue-200';\r\n            case 'Declined': return 'bg-red-100 text-red-700 border-red-200';\r\n            case 'Expired': return 'bg-gray-100 text-gray-700 border-gray-200';\r\n            default: return 'bg-yellow-100 text-yellow-700 border-yellow-200';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-8 max-w-7xl mx-auto\">\r\n            <div className=\"flex justify-between items-center mb-8\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-gray-900\">Estimates</h1>\r\n                    <p className=\"text-gray-500 text-sm mt-1\">Manage your commercial proposals and quotes.</p>\r\n                </div>\r\n                <Link to=\"/admin/estimates/new\">\r\n                    <Button className=\"bg-[#0b2a4a] hover:bg-[#081e35] text-white\">\r\n                        <Plus className=\"h-4 w-4 mr-2\" />\r\n                        New Estimate\r\n                    </Button>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\r\n                <div className=\"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col md:flex-row gap-4\">\r\n                    <div className=\"relative flex-1\">\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                        <Input\r\n                            placeholder=\"Search by client name...\"\r\n                            className=\"pl-10\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-gray-50 text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4\">Client / ID</th>\r\n                                <th className=\"px-6 py-4\">Status</th>\r\n                                <th className=\"px-6 py-4\">Total</th>\r\n                                <th className=\"px-6 py-4\">Expiry</th>\r\n                                <th className=\"px-6 py-4\">Created</th>\r\n                                <th className=\"px-6 py-4 text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-gray-100\">\r\n                            {isLoading ? (\r\n                                <tr>\r\n                                    <td colSpan={6} className=\"px-6 py-12 text-center text-gray-400\">Loading estimates...</td>\r\n                                </tr>\r\n                            ) : filteredEstimates.length === 0 ? (\r\n                                <tr>\r\n                                    <td colSpan={6} className=\"px-6 py-12 text-center text-gray-400\">No estimates found.</td>\r\n                                </tr>\r\n                            ) : (\r\n                                filteredEstimates.map((est) => (\r\n                                    <tr key={est.id} className=\"hover:bg-gray-50/50 transition-colors group\">\r\n                                        <td className=\"px-6 py-4 text-sm\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"w-8 h-8 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center shrink-0\">\r\n                                                    <User className=\"h-4 w-4\" />\r\n                                                </div>\r\n                                                <div>\r\n                                                    <p className=\"font-semibold text-gray-900\">{est.client_name}</p>\r\n                                                    <p className=\"text-xs text-gray-500 uppercase font-medium\">{est.id.split('-')[0]}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm\">\r\n                                            <span className={`px-2.5 py-1 rounded-full text-xs font-semibold border ${getStatusColor(est.status)}`}>\r\n                                                {est.status}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm font-semibold text-gray-900\">\r\n                                            ${est.total_amount.toLocaleString(undefined, { minimumFractionDigits: 2 })}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm text-gray-600\">\r\n                                            <div className=\"flex items-center gap-1.5\">\r\n                                                <Calendar className=\"h-3.5 w-3.5 text-gray-400\" />\r\n                                                {est.valid_until ? new Date(est.valid_until).toLocaleDateString() : 'N/A'}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm text-gray-500\">\r\n                                            <div className=\"flex items-center gap-1.5\">\r\n                                                <Clock className=\"h-3.5 w-3.5 text-gray-400\" />\r\n                                                {new Date(est.created_at).toLocaleDateString()}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-right\">\r\n                                            <Link to={`/admin/estimates/${est.id}`}>\r\n                                                <Button variant=\"ghost\" size=\"sm\" className=\"text-blue-600 hover:text-blue-700 hover:bg-blue-50\">\r\n                                                    View Details\r\n                                                </Button>\r\n                                            </Link>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EstimatesList;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9387, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/admin/EstimateEditor.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams, useSearchParams } from \"react-router-dom\";\r\nimport { ArrowLeft, Save, Loader2, CheckCircle2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useUser } from \"@/context/UserContext\";\r\nimport {\r\n    getEstimateById,\r\n    createEstimate,\r\n    updateEstimate,\r\n    Estimate,\r\n    EstimateLineItem\r\n} from \"@/lib/estimates\";\r\nimport { getLeads } from \"@/lib/leads\"; // To fetch lead data if converting\r\nimport EstimateForm from \"@/components/admin/estimates/EstimateForm\";\r\nimport EstimateItemsTable from \"@/components/admin/estimates/EstimateItemsTable\";\r\nimport TotalsSummary from \"@/components/admin/estimates/TotalsSummary\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst EstimateEditor = () => {\r\n    const { id } = useParams();\r\n    const [searchParams] = useSearchParams();\r\n    const leadId = searchParams.get(\"leadId\");\r\n    const navigate = useNavigate();\r\n    const { user } = useUser();\r\n\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    const [formData, setFormData] = useState<Partial<Estimate>>({\r\n        status: 'Draft',\r\n        subtotal: 0,\r\n        tax_amount: 0,\r\n        discount_amount: 0,\r\n        total_amount: 0,\r\n        terms: \"Payment due upon receipt. Proposal valid for 30 days.\"\r\n    });\r\n\r\n    const [items, setItems] = useState<EstimateLineItem[]>([]);\r\n\r\n    useEffect(() => {\r\n        if (user?.organization?.id) {\r\n            loadData();\r\n        }\r\n    }, [id, leadId, user]);\r\n\r\n    const loadData = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            if (id) {\r\n                // Edit mode\r\n                const estimate = await getEstimateById(id);\r\n                if (estimate) {\r\n                    setFormData(estimate);\r\n                    setItems(estimate.items || []);\r\n                }\r\n            } else if (leadId) {\r\n                // Create from Lead mode\r\n                const leads = await getLeads();\r\n                const lead = leads.find(l => l.id === leadId);\r\n                if (lead) {\r\n                    setFormData(prev => ({\r\n                        ...prev,\r\n                        client_name: lead.fullName,\r\n                        client_email: lead.email,\r\n                        client_phone: lead.phone,\r\n                        lead_id: lead.id,\r\n                        notes: `Converted from Lead: ${lead.details || 'No details provided.'}`\r\n                    }));\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error loading data:\", error);\r\n            toast.error(\"Failed to load data.\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const calculateTotals = (currentItems: EstimateLineItem[], tax: number, discount: number) => {\r\n        const subtotal = currentItems.reduce((acc, item) => acc + (item.total_price || 0), 0);\r\n        const total = subtotal + tax - discount;\r\n\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            subtotal,\r\n            tax_amount: tax,\r\n            discount_amount: discount,\r\n            total_amount: total\r\n        }));\r\n    };\r\n\r\n    const handleItemsChange = (newItems: EstimateLineItem[]) => {\r\n        setItems(newItems);\r\n        calculateTotals(newItems, formData.tax_amount || 0, formData.discount_amount || 0);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!user?.organization?.id) {\r\n            toast.error(\"Organization context missing.\");\r\n            return;\r\n        }\r\n\r\n        if (!formData.client_name) {\r\n            toast.error(\"Client name is required.\");\r\n            return;\r\n        }\r\n\r\n        setIsSaving(true);\r\n        try {\r\n            const payload = {\r\n                ...formData,\r\n                organization_id: user.organization.id,\r\n            } as Omit<Estimate, 'id' | 'created_at' | 'updated_at'>;\r\n\r\n            if (id) {\r\n                await updateEstimate(id, payload, items);\r\n                toast.success(\"Estimate updated successfully.\");\r\n            } else {\r\n                await createEstimate(payload, items);\r\n                toast.success(\"Estimate created successfully.\");\r\n            }\r\n            navigate(\"/admin/estimates\");\r\n        } catch (error) {\r\n            console.error(\"Save error:\", error);\r\n            toast.error(\"Failed to save estimate.\");\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"h-full flex items-center justify-center\">\r\n                <Loader2 className=\"h-8 w-8 animate-spin text-blue-600\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-8 max-w-5xl mx-auto\">\r\n            <div className=\"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        size=\"icon\"\r\n                        onClick={() => navigate(\"/admin/estimates\")}\r\n                        className=\"rounded-full h-10 w-10 border-gray-200\"\r\n                    >\r\n                        <ArrowLeft className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <div>\r\n                        <h1 className=\"text-2xl font-bold text-gray-900\">\r\n                            {id ? \"Edit Estimate\" : \"Create New Estimate\"}\r\n                        </h1>\r\n                        <p className=\"text-gray-500 text-sm\">\r\n                            {id ? `ID: ${id.split('-')[0].toUpperCase()}` : \"Fill out the details below to generate a new quote.\"}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex gap-3\">\r\n                    <Button variant=\"outline\" onClick={() => navigate(\"/admin/estimates\")}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        className=\"bg-[#0b2a4a] hover:bg-[#081e35] text-white\"\r\n                        onClick={handleSave}\r\n                        disabled={isSaving}\r\n                    >\r\n                        {isSaving ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : <Save className=\"h-4 w-4 mr-2\" />}\r\n                        Save Estimate\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-8 pb-20\">\r\n                {/* Main Form Section */}\r\n                <section className=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\r\n                    <EstimateForm\r\n                        formData={formData}\r\n                        onChange={(updates) => setFormData(prev => ({ ...prev, ...updates }))}\r\n                    />\r\n                </section>\r\n\r\n                {/* Items Section */}\r\n                <section className=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\r\n                    <EstimateItemsTable\r\n                        items={items}\r\n                        onChange={handleItemsChange}\r\n                    />\r\n\r\n                    <div className=\"mt-8 border-t border-gray-100 -mx-6\">\r\n                        <TotalsSummary\r\n                            subtotal={formData.subtotal || 0}\r\n                            tax_amount={formData.tax_amount || 0}\r\n                            discount_amount={formData.discount_amount || 0}\r\n                            total_amount={formData.total_amount || 0}\r\n                            onTaxChange={(val) => calculateTotals(items, val, formData.discount_amount || 0)}\r\n                            onDiscountChange={(val) => calculateTotals(items, formData.tax_amount || 0, val)}\r\n                        />\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EstimateEditor;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9717, "column": 0}, "map": {"version":3,"sources":["file:///C:/Desenvolvimento/SiteIhago/Site/src/pages/NotFound.tsx"],"sourcesContent":["import { useLocation } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst NotFound = () => {\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    console.error(\"404 Error: User attempted to access non-existent route:\", location.pathname);\r\n  }, [location.pathname]);\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen items-center justify-center bg-muted\">\r\n      <div className=\"text-center\">\r\n        <h1 className=\"mb-4 text-4xl font-bold\">404</h1>\r\n        <p className=\"mb-4 text-xl text-muted-foreground\">Oops! Page not found</p>\r\n        <a href=\"/\" className=\"text-primary underline hover:text-primary/90\">\r\n          Return to Home\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,WAAW;IACf,MAAM,WAAW,IAAA,+KAAW;IAE5B,IAAA,kNAAS,EAAC;QACR,QAAQ,KAAK,CAAC,2DAA2D,SAAS,QAAQ;IAC5F,GAAG;QAAC,SAAS,QAAQ;KAAC;IAEtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA0B;;;;;;8BACxC,8OAAC;oBAAE,WAAU;8BAAqC;;;;;;8BAClD,8OAAC;oBAAE,MAAK;oBAAI,WAAU;8BAA+C;;;;;;;;;;;;;;;;;AAM7E;uCAEe"}}]
}