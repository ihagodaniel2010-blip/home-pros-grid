{"version":3,"sources":["../../../../src/lib/supabase.ts","../../../../src/lib/leads.ts","../../../../src/pages/admin/Analytics.tsx","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nexport const isSupabaseConfigured = Boolean(supabaseUrl && supabaseAnonKey);\r\n\r\nexport const supabase = isSupabaseConfigured\r\n  ? createClient(supabaseUrl, supabaseAnonKey, {\r\n    auth: {\r\n      persistSession: true,\r\n      autoRefreshToken: true,\r\n      detectSessionInUrl: true,\r\n    },\r\n  })\r\n  : null;\r\n","import { supabase, isSupabaseConfigured } from \"@/lib/supabase\";\r\n\r\nexport interface StatusChange {\r\n  status: string;\r\n  timestamp: string;\r\n}\r\n\r\nexport interface Lead {\r\n  id: string;\r\n  organization_id?: string;\r\n  createdAt: string;\r\n  serviceSlug: string;\r\n  zip: string;\r\n  selectedServiceOption: string;\r\n  subtype?: string;\r\n  details?: string;\r\n  locationType: string;\r\n  fullName: string;\r\n  address: string;\r\n  email: string;\r\n  phone: string;\r\n  selectedPros: string[];\r\n  status: \"New\" | \"Contacted\" | \"Estimate Sent\" | \"Approved\" | \"Closed\";\r\n  ownerNotes: string;\r\n  updatedAt: string;\r\n  statusHistory: StatusChange[];\r\n  // Novos campos profissionais\r\n  description?: string;\r\n  preferred_contact_method?: \"email\" | \"phone\" | \"text\";\r\n  spam_score?: number;\r\n  is_spam?: boolean;\r\n  media_urls?: string[];\r\n}\r\n\r\n// ─── LOCAL STORAGE FALLBACK ──────────────────────────────\r\nconst LEADS_KEY = \"barrigudo_leads\";\r\n\r\nconst getLeadsLocal = (): Lead[] => {\r\n  try {\r\n    const data = localStorage.getItem(LEADS_KEY);\r\n    return data ? JSON.parse(data) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst saveLeadLocal = (lead: Omit<Lead, \"id\" | \"createdAt\" | \"status\" | \"ownerNotes\" | \"updatedAt\" | \"statusHistory\">): Lead => {\r\n  const now = new Date().toISOString();\r\n  const newLead: Lead = {\r\n    ...lead,\r\n    id: crypto.randomUUID(),\r\n    createdAt: now,\r\n    status: \"New\",\r\n    ownerNotes: \"\",\r\n    updatedAt: now,\r\n    statusHistory: [{ status: \"New\", timestamp: now }],\r\n  };\r\n  const leads = getLeadsLocal();\r\n  leads.unshift(newLead);\r\n  localStorage.setItem(LEADS_KEY, JSON.stringify(leads));\r\n  return newLead;\r\n};\r\n\r\nconst updateLeadLocal = (id: string, updates: Partial<Lead>): Lead | null => {\r\n  const leads = getLeadsLocal();\r\n  const idx = leads.findIndex((l) => l.id === id);\r\n  if (idx === -1) return null;\r\n  const now = new Date().toISOString();\r\n  const updated = { ...leads[idx], ...updates, updatedAt: now };\r\n  if (updates.status && updates.status !== leads[idx].status) {\r\n    updated.statusHistory = [...(updated.statusHistory || []), { status: updates.status, timestamp: now }];\r\n  }\r\n  leads[idx] = updated;\r\n  localStorage.setItem(LEADS_KEY, JSON.stringify(leads));\r\n  return updated;\r\n};\r\n\r\n// ─── SUPABASE ────────────────────────────────────────────\r\nconst getLeadsSupabase = async (organizationId?: string): Promise<Lead[]> => {\r\n  if (!supabase) return [];\r\n  let query = supabase\r\n    .from(\"leads\")\r\n    .select(\"*\")\r\n    .order(\"createdAt\", { ascending: false });\r\n\r\n  if (organizationId) {\r\n    query = query.eq(\"organization_id\", organizationId);\r\n  }\r\n\r\n  const { data, error } = await query;\r\n  if (error) {\r\n    console.error(\"Supabase getLeads error:\", error.message);\r\n    return [];\r\n  }\r\n  return (data || []) as Lead[];\r\n};\r\n\r\nconst saveLeadSupabase = async (\r\n  lead: Omit<Lead, \"id\" | \"createdAt\" | \"status\" | \"ownerNotes\" | \"updatedAt\" | \"statusHistory\"> & { organization_id?: string }\r\n): Promise<Lead> => {\r\n  if (!supabase) throw new Error(\"Supabase not configured\");\r\n  const now = new Date().toISOString();\r\n  const defaultOrgId = process.env.NEXT_PUBLIC_DEFAULT_ORG_ID;\r\n\r\n  const payload = {\r\n    ...lead,\r\n    organization_id: lead.organization_id || defaultOrgId,\r\n    status: \"New\",\r\n    ownerNotes: \"\",\r\n    updatedAt: now,\r\n    statusHistory: [{ status: \"New\", timestamp: now }],\r\n  };\r\n  const { error } = await supabase.from(\"leads\").insert(payload);\r\n  if (error) {\r\n    console.error(\"Supabase saveLead error:\", error);\r\n    throw new Error(error.message);\r\n  }\r\n  return { ...payload, id: \"temp\", createdAt: now } as Lead;\r\n};\r\n\r\nconst updateLeadSupabase = async (id: string, updates: Partial<Lead>): Promise<Lead | null> => {\r\n  if (!supabase) return null;\r\n  const now = new Date().toISOString();\r\n  const { data: current } = await supabase.from(\"leads\").select(\"statusHistory, status\").eq(\"id\", id).single();\r\n  const statusHistory = current?.statusHistory || [];\r\n  if (updates.status && updates.status !== current?.status) {\r\n    statusHistory.push({ status: updates.status, timestamp: now });\r\n  }\r\n  const { data, error } = await supabase\r\n    .from(\"leads\")\r\n    .update({ ...updates, updatedAt: now, statusHistory })\r\n    .eq(\"id\", id)\r\n    .select()\r\n    .single();\r\n  if (error) {\r\n    console.error(\"Supabase updateLead error:\", error.message);\r\n    return null;\r\n  }\r\n  return data as Lead;\r\n};\r\n\r\n// ─── EXPORTS PÚBLICOS ─────────────────────────────────────\r\nexport const getLeads = async (organizationId?: string): Promise<Lead[]> => {\r\n  if (isSupabaseConfigured && supabase) return getLeadsSupabase(organizationId);\r\n  return getLeadsLocal();\r\n};\r\n\r\nexport const saveLead = async (\r\n  lead: Omit<Lead, \"id\" | \"createdAt\" | \"status\" | \"ownerNotes\" | \"updatedAt\" | \"statusHistory\"> & { organization_id?: string }\r\n): Promise<Lead> => {\r\n  if (isSupabaseConfigured && supabase) return saveLeadSupabase(lead);\r\n  return saveLeadLocal(lead);\r\n};\r\n\r\nexport const updateLead = async (id: string, updates: Partial<Lead>): Promise<Lead | null> => {\r\n  if (isSupabaseConfigured && supabase) return updateLeadSupabase(id, updates);\r\n  return updateLeadLocal(id, updates);\r\n};\r\n\r\nexport const getLeadById = async (id: string): Promise<Lead | null> => {\r\n  if (isSupabaseConfigured && supabase) {\r\n    if (!supabase) return null;\r\n    const { data, error } = await supabase.from(\"leads\").select(\"*\").eq(\"id\", id).single();\r\n    if (error) return null;\r\n    return data as Lead;\r\n  }\r\n  return getLeadsLocal().find((l) => l.id === id) || null;\r\n};\r\n","import { useMemo, useState, useEffect } from \"react\";\r\nimport { getLeads } from \"@/lib/leads\";\r\nimport {\r\n  LineChart, Line, BarChart, Bar, PieChart, Pie, Cell,\r\n  XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend,\r\n} from \"recharts\";\r\n\r\nconst COLORS = [\"#2563eb\", \"#7c3aed\", \"#059669\", \"#0b2a4a\"];\r\n\r\ninterface ChartDataPoint {\r\n  date: string;\r\n  count: number;\r\n}\r\n\r\ninterface ServiceDataPoint {\r\n  name: string;\r\n  count: number;\r\n}\r\n\r\ninterface LocationDataPoint {\r\n  name: string;\r\n  value: number;\r\n}\r\n\r\nconst Analytics = () => {\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  try {\r\n    const leads = useMemo(() => {\r\n      try {\r\n        const data = getLeads();\r\n        return Array.isArray(data) ? data : [];\r\n      } catch {\r\n        return [];\r\n      }\r\n    }, []);\r\n\r\n    const now = new Date();\r\n\r\n    const dailyData: ChartDataPoint[] = useMemo(() => {\r\n      try {\r\n        const days: Record<string, number> = {};\r\n        for (let i = 29; i >= 0; i--) {\r\n          const d = new Date(now.getTime() - i * 86400000).toISOString().slice(0, 10);\r\n          days[d] = 0;\r\n        }\r\n        leads.forEach((l) => {\r\n          try {\r\n            const d = l.createdAt?.slice(0, 10);\r\n            if (d && days[d] !== undefined) days[d]++;\r\n          } catch {\r\n            // Skip malformed lead\r\n          }\r\n        });\r\n        return Object.entries(days).map(([date, count]) => ({ date: date.slice(5), count }));\r\n      } catch {\r\n        return [];\r\n      }\r\n    }, [leads]);\r\n\r\n    const serviceData: ServiceDataPoint[] = useMemo(() => {\r\n      try {\r\n        const map: Record<string, number> = {};\r\n        leads.forEach((l) => {\r\n          try {\r\n            const slug = l.serviceSlug || \"unknown\";\r\n            map[slug] = (map[slug] || 0) + 1;\r\n          } catch {\r\n            // Skip malformed lead\r\n          }\r\n        });\r\n        return Object.entries(map)\r\n          .sort((a, b) => b[1] - a[1])\r\n          .slice(0, 10)\r\n          .map(([name, count]) => ({ name, count }));\r\n      } catch {\r\n        return [];\r\n      }\r\n    }, [leads]);\r\n\r\n    const locationData: LocationDataPoint[] = useMemo(() => {\r\n      try {\r\n        let home = 0, biz = 0;\r\n        leads.forEach((l) => {\r\n          try {\r\n            const locationType = l.locationType || \"\";\r\n            if (locationType.includes(\"Home\")) home++;\r\n            else if (locationType.includes(\"Business\")) biz++;\r\n          } catch {\r\n            // Skip malformed lead\r\n          }\r\n        });\r\n        return [\r\n          { name: \"Home\", value: home },\r\n          { name: \"Business\", value: biz },\r\n        ].filter((d) => d.value > 0);\r\n      } catch {\r\n        return [];\r\n      }\r\n    }, [leads]);\r\n\r\n    if (leads.length === 0) {\r\n      return (\r\n        <div className=\"p-8 max-w-7xl mx-auto\">\r\n          <h1 className=\"text-2xl font-bold mb-8 text-gray-900\">Analytics</h1>\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-12 text-center\">\r\n            <div className=\"text-gray-500 mb-4\">\r\n              <svg className=\"h-12 w-12 mx-auto mb-3 opacity-40\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n              </svg>\r\n              <p className=\"text-sm font-medium text-gray-900\">No data available yet</p>\r\n              <p className=\"text-xs text-gray-600 mt-1\">Submit quotes to see analytics here</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"p-8 max-w-7xl mx-auto\">\r\n        <h1 className=\"text-2xl font-bold mb-8 text-gray-900\">Analytics</h1>\r\n\r\n        {/* Charts Grid */}\r\n        <div className=\"grid lg:grid-cols-2 gap-6 mb-8\">\r\n          {/* Daily Leads */}\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-6\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Leads per Day (30 days)</h3>\r\n            {dailyData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={dailyData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                  <XAxis dataKey=\"date\" tick={{ fontSize: 12, fill: \"#6b7280\" }} />\r\n                  <YAxis allowDecimals={false} tick={{ fontSize: 12, fill: \"#6b7280\" }} />\r\n                  <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n                  <Line type=\"monotone\" dataKey=\"count\" stroke=\"#2563eb\" strokeWidth={2} dot={false} />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <div className=\"h-[300px] flex items-center justify-center text-gray-500\">\r\n                <p className=\"text-sm\">No data available</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Top Services */}\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-6\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Top Services</h3>\r\n            {serviceData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <BarChart data={serviceData} layout=\"vertical\">\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                  <XAxis type=\"number\" allowDecimals={false} tick={{ fontSize: 12, fill: \"#6b7280\" }} />\r\n                  <YAxis type=\"category\" dataKey=\"name\" width={120} tick={{ fontSize: 12, fill: \"#6b7280\" }} />\r\n                  <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n                  <Bar dataKey=\"count\" fill=\"#2563eb\" radius={[0, 6, 6, 0]} />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <div className=\"h-[300px] flex items-center justify-center text-gray-500\">\r\n                <p className=\"text-sm\">No data available</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Location Breakdown */}\r\n        {locationData.length > 0 && (\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-6 mb-8 max-w-md\">\r\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-6\">Location Type</h3>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie data={locationData} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={70} innerRadius={40} label>\r\n                  {locationData.map((_, i) => (\r\n                    <Cell key={i} fill={COLORS[i % COLORS.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip contentStyle={{ background: \"#ffffff\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\", fontSize: \"12px\" }} />\r\n                <Legend />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Analytics error:\", error);\r\n    return (\r\n      <div className=\"p-8 max-w-7xl mx-auto\">\r\n        <h1 className=\"text-2xl font-bold mb-8 text-gray-900\">Analytics</h1>\r\n        <div className=\"bg-white rounded-2xl border border-gray-200 p-8 text-center\">\r\n          <p className=\"text-gray-600 text-sm\">Unable to load analytics. Please refresh the page.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Analytics;\r\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[3]}