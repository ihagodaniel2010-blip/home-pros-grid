module.exports=[47899,(a,b,c)=>{b.exports=a.x("react-router-dom-2c8e5fc0cdea126d",()=>require("react-router-dom-2c8e5fc0cdea126d"))},93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},16928,a=>a.a(async(b,c)=>{try{let b=await a.y("@supabase/supabase-js-13bdb2f0966edf07");a.n(b),c()}catch(a){c(a)}},!0),81462,a=>a.a(async(b,c)=>{try{var d=a.i(16928),e=b([d]);[d]=e.then?(await e)():e;let f="https://ozhjvprhhsdglxokfwze.supabase.co",g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96aGp2cHJoaHNkZ2x4b2tmd3plIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMjE5MTAsImV4cCI6MjA4NzU5NzkxMH0.i1pbvk17MMghLzirtC_1uOEIPAPQUcUuTQWpnZT3xAY",h=!!(f&&g),i=h?(0,d.createClient)(f,g,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}):null;a.s(["isSupabaseConfigured",0,h,"supabase",0,i]),c()}catch(a){c(a)}},!1),33332,a=>a.a(async(b,c)=>{try{let b=await a.y("clsx-3fe5bd38fe94348f");a.n(b),c()}catch(a){c(a)}},!0),6177,a=>a.a(async(b,c)=>{try{let b=await a.y("tailwind-merge-556f03ff0562c00b");a.n(b),c()}catch(a){c(a)}},!0),99856,a=>a.a(async(b,c)=>{try{var d=a.i(33332),e=a.i(6177),f=b([d,e]);function g(...a){return(0,e.twMerge)((0,d.clsx)(a))}[d,e]=f.then?(await f)():f,a.s(["cn",()=>g]),c()}catch(a){c(a)}},!1),97499,a=>a.a(async(b,c)=>{try{let b=await a.y("class-variance-authority-cba07010ed710cac");a.n(b),c()}catch(a){c(a)}},!0),86913,a=>a.a(async(b,c)=>{try{var d=a.i(81462),e=b([d]);[d]=e.then?(await e)():e;let f=async()=>{if(!d.supabase)return{ok:!1,error:"Supabase not configured"};let{error:a}=await d.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin`}});return a?{ok:!1,error:a.message}:{ok:!0}},g=async()=>{if(!d.supabase)return null;let{data:{session:a}}=await d.supabase.auth.getSession();return a?.user?{email:a.user.email||"Unknown"}:null},h=async a=>[];a.s(["adminLogin",0,f,"fetchAdminSession",0,g,"fetchLoginAttempts",0,h]),c()}catch(a){c(a)}},!1),12779,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(99856),g=b([f]);[f]=g.then?(await g)():g;let h=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));h.displayName="Input",a.s(["Input",()=>h]),c()}catch(a){c(a)}},!1),8191,a=>{"use strict";var b=a.i(27669);let c=0,d=new Map,e=a=>{if(d.has(a))return;let b=setTimeout(()=>{d.delete(a),h({type:"REMOVE_TOAST",toastId:a})},1e6);d.set(a,b)},f=[],g={toasts:[]};function h(a){g=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?e(c):a.toasts.forEach(a=>{e(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(g,a),f.forEach(a=>{a(g)})}function i({...a}){let b=(c=(c+1)%Number.MAX_SAFE_INTEGER).toString(),d=()=>h({type:"DISMISS_TOAST",toastId:b});return h({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||d()}}}),{id:b,dismiss:d,update:a=>h({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function j(){let[a,c]=b.useState(g);return b.useEffect(()=>(f.push(c),()=>{let a=f.indexOf(c);a>-1&&f.splice(a,1)}),[a]),{...a,toast:i,dismiss:a=>h({type:"DISMISS_TOAST",toastId:a})}}a.s(["toast",()=>i,"useToast",()=>j])},93157,a=>a.a(async(b,c)=>{try{var d=a.i(81462),e=b([d]);[d]=e.then?(await e)():e;let f={businessName:"Barrigudo",contactEmail:"contact@barrigudo.com",contactPhone:"",whatsapp:"",businessAddress:"Boston, Massachusetts",mapsQuery:"Boston Massachusetts",directionsUrl:"",heroTitle:"Professional Home Services",heroSubtitle:"Quality work, trusted professionals",serviceAreas:["Wellesley","Newton","Burlington","Billerica","Arlington","Belmont","Lynnfield","Somerville","Peabody","Boston"]},g=async()=>{if(!d.supabase)return f;try{let{data:a,error:b}=await d.supabase.from("site_settings").select("*");if(b)throw b;let c={};return a.forEach(a=>{if("serviceAreas"===a.key)try{c[a.key]=JSON.parse(a.value||"[]")}catch{c[a.key]=[]}else c[a.key]=a.value}),{...f,...c}}catch(a){return console.warn("Failed to load site settings from Supabase",a),f}},h=async()=>g(),i=async a=>{if(!d.supabase)throw Error("Supabase not configured");let b=Object.entries(a).map(([a,b])=>({key:a,value:"string"==typeof b?b:JSON.stringify(b)})),{error:c}=await d.supabase.from("site_settings").upsert(b);if(c)throw c;return a};a.s(["defaultSiteSettings",0,f,"fetchSiteSettingsAdmin",0,h,"fetchSiteSettingsPublic",0,g,"saveSiteSettingsAdmin",0,i]),c()}catch(a){c(a)}},!1),71117,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-tabs-b68482203efb9b9e");a.n(b),c()}catch(a){c(a)}},!0),48608,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(71117),g=a.i(99856),h=b([f,g]);[f,g]=h.then?(await h)():h;let i=f.Root,j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.List,{ref:c,className:(0,g.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...b}));j.displayName=f.List.displayName;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Trigger,{ref:c,className:(0,g.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a),...b}));k.displayName=f.Trigger.displayName;let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Content,{ref:c,className:(0,g.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...b}));l.displayName=f.Content.displayName,a.s(["Tabs",()=>i,"TabsContent",()=>l,"TabsList",()=>j,"TabsTrigger",()=>k]),c()}catch(a){c(a)}},!1),11757,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-label-3f949730be5d5250");a.n(b),c()}catch(a){c(a)}},!0),839,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(11757),g=a.i(97499),h=a.i(99856),i=b([f,g,h]);[f,g,h]=i.then?(await i)():i;let j=(0,g.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Root,{ref:c,className:(0,h.cn)(j(),a),...b}));k.displayName=f.Root.displayName,a.s(["Label",()=>k]),c()}catch(a){c(a)}},!1),27471,a=>{"use strict";a.i(8191),a.s([])},66072,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47899),g=a.i(86913),h=a.i(48608),i=a.i(12779),j=a.i(839);a.i(27471);var k=a.i(8191),l=a.i(93157),m=b([g,h,i,j,l]);[g,h,i,j,l]=m.then?(await m)():m,a.s(["default",0,()=>{let a=(()=>{let[a,b]=(0,e.useState)("Loading...");return(0,e.useEffect)(()=>{let a=!0;return(0,g.fetchAdminSession)().then(c=>{a&&b(c?.email||"Unknown")}).catch(()=>{a&&b("Unavailable")}),()=>{a=!1}},[]),a})(),b=(0,f.useLocation)(),{toast:c}=(0,k.useToast)(),[m,n]=(0,e.useState)(l.defaultSiteSettings),[o,p]=(0,e.useState)(!0),[q,r]=(0,e.useState)(!1),s=(0,e.useMemo)(()=>{let a=new URLSearchParams(b.search).get("tab")||"general";return"maps"===a||"areas"===a||"general"===a?a:"general"},[b.search]),[t,u]=(0,e.useState)(s);(0,e.useEffect)(()=>{u(s)},[s]),(0,e.useEffect)(()=>{let a=!0;return(0,l.fetchSiteSettingsAdmin)().then(b=>{a&&n(b)}).catch(()=>{a&&n(l.defaultSiteSettings)}).finally(()=>{a&&p(!1)}),()=>{a=!1}},[]);let v=(0,e.useMemo)(()=>{let a=m.mapsQuery||m.businessAddress,b=encodeURIComponent(a);return m.directionsUrl&&m.directionsUrl.trim().length>0?m.directionsUrl.trim():`https://www.google.com/maps/search/?api=1&query=${b}`},[m.mapsQuery,m.businessAddress,m.directionsUrl]),w=async a=>{r(!0);try{let b=await (0,l.saveSiteSettingsAdmin)(a);n(b),c({title:"Saved",description:"Site settings updated."})}catch(a){c({title:"Save failed",description:"Please try again.",variant:"destructive"})}finally{r(!1)}};return(0,d.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Configure your admin preferences"})]}),(0,d.jsxs)(h.Tabs,{value:t,onValueChange:u,className:"space-y-6",children:[(0,d.jsxs)(h.TabsList,{className:"bg-white border border-gray-200 rounded-lg p-1",children:[(0,d.jsx)(h.TabsTrigger,{value:"general",children:"General"}),(0,d.jsx)(h.TabsTrigger,{value:"maps",children:"Maps"}),(0,d.jsx)(h.TabsTrigger,{value:"areas",children:"Service Areas"})]}),(0,d.jsxs)(h.TabsContent,{value:"general",className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-7",children:[(0,d.jsx)("h3",{className:"font-semibold text-sm text-gray-900 mb-5",children:"Owner Account"}),(0,d.jsxs)("div",{className:"py-3 border-b border-gray-200",children:[(0,d.jsx)("span",{className:"text-gray-600 text-xs font-semibold uppercase tracking-widest block mb-1",children:"Admin Email"}),(0,d.jsx)("span",{className:"text-gray-900 font-medium",children:a})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-7",children:[(0,d.jsx)("h3",{className:"font-semibold text-sm text-gray-900 mb-5",children:"Notifications"}),(0,d.jsxs)("label",{className:"flex items-center gap-3 text-sm cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"}),(0,d.jsx)("span",{className:"text-gray-900",children:"Email notifications for new leads"})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-7",children:[(0,d.jsx)("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Webhook (CRM Integration)"}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-4",children:"Forward new leads to an external CRM by providing a webhook URL."}),(0,d.jsx)("input",{type:"url",placeholder:"https://your-crm.com/webhook",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Enable Lovable Cloud for real-time webhook delivery."})]})]}),(0,d.jsx)(h.TabsContent,{value:"maps",className:"space-y-6",children:(0,d.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-7",children:[(0,d.jsx)("h3",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Maps"}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-6",children:"Update contact and map settings for the Service Areas section."}),(0,d.jsxs)("div",{className:"grid gap-5",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"contactEmail",children:"Contact Email"}),(0,d.jsx)(i.Input,{id:"contactEmail",type:"email",value:m.contactEmail,onChange:a=>n({...m,contactEmail:a.target.value}),placeholder:"contact@barrigudo.com"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"businessAddress",children:"Business Address"}),(0,d.jsx)(i.Input,{id:"businessAddress",value:m.businessAddress,onChange:a=>n({...m,businessAddress:a.target.value}),placeholder:"Boston, Massachusetts"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"mapsQuery",children:"Map Query"}),(0,d.jsx)(i.Input,{id:"mapsQuery",value:m.mapsQuery,onChange:a=>n({...m,mapsQuery:a.target.value}),placeholder:"Extreme Pro Construction Services, Lowell MA"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Used by the embedded map and Directions button."})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"directionsUrl",children:"Directions URL (optional)"}),(0,d.jsx)(i.Input,{id:"directionsUrl",value:m.directionsUrl||"",onChange:a=>n({...m,directionsUrl:a.target.value}),placeholder:"Leave empty to auto-generate"})]}),(0,d.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Directions Preview"}),(0,d.jsx)("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:v})]})]}),(0,d.jsx)("div",{className:"pt-6",children:(0,d.jsx)("button",{onClick:()=>w(m),disabled:q||o,className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white font-semibold rounded-full hover:bg-primary/90 transition-all duration-200 disabled:opacity-60",children:q?"Saving...":"Save"})})]})}),(0,d.jsx)(h.TabsContent,{value:"areas",className:"space-y-6",children:(0,d.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-7",children:[(0,d.jsx)("h3",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Service Areas"}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-6",children:"Edit the 10 primary service areas shown on the homepage."}),(0,d.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:Array.from({length:10}).map((a,b)=>(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(j.Label,{htmlFor:`area-${b}`,children:["Area ",b+1]}),(0,d.jsx)(i.Input,{id:`area-${b}`,value:m.serviceAreas[b]||"",onChange:a=>{var c;return c=a.target.value,void n(a=>{let d=[...a.serviceAreas];for(;d.length<10;)d.push("");return d[b]=c,{...a,serviceAreas:d.slice(0,10)}})},placeholder:`Service area ${b+1}`})]},`area-${b}`))}),(0,d.jsx)("div",{className:"pt-6",children:(0,d.jsx)("button",{onClick:()=>w(m),disabled:q||o,className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white font-semibold rounded-full hover:bg-primary/90 transition-all duration-200 disabled:opacity-60",children:q?"Saving...":"Save"})})]})})]})]})}]),c()}catch(a){c(a)}},!1),26076,a=>a.a(async(b,c)=>{try{var d=a.i(79168),e=a.i(27068),f=a.i(32759),g=a.i(39141),h=a.i(6555),i=a.i(66072),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/Settings",pathname:"/admin/Settings",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/Settings",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__ac822c96._.js.map